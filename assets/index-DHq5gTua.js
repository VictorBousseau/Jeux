(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var zd={exports:{}},Sl={};var F_;function nS(){if(F_)return Sl;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Sl.Fragment=t,Sl.jsx=n,Sl.jsxs=n,Sl}var Q_;function iS(){return Q_||(Q_=1,zd.exports=nS()),zd.exports}var st=iS(),Bd={exports:{}},It={};var Y_;function rS(){if(Y_)return It;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=M&&I[M]||I["@@iterator"],typeof I=="function"?I:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function ft(I,F,tt){this.props=I,this.context=F,this.refs=W,this.updater=tt||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(I,F){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,F,"setState")},ft.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function dt(I,F,tt){this.props=I,this.context=F,this.refs=W,this.updater=tt||J}var Mt=dt.prototype=new Et;Mt.constructor=dt,et(Mt,ft.prototype),Mt.isPureReactComponent=!0;var qt=Array.isArray;function wt(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(I,F,tt){var nt=tt.ref;return{$$typeof:r,type:I,key:F,ref:nt!==void 0?nt:null,props:tt}}function V(I,F){return w(I.type,F,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function x(I){var F={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(tt){return F[tt]})}var R=/\/+/g;function Xt(I,F){return typeof I=="object"&&I!==null&&I.key!=null?x(""+I.key):F.toString(36)}function ot(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(wt,wt):(I.status="pending",I.then(function(F){I.status==="pending"&&(I.status="fulfilled",I.value=F)},function(F){I.status==="pending"&&(I.status="rejected",I.reason=F)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function U(I,F,tt,nt,_t){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var yt=!1;if(I===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(I.$$typeof){case r:case t:yt=!0;break;case T:return yt=I._init,U(yt(I._payload),F,tt,nt,_t)}}if(yt)return _t=_t(I),yt=nt===""?"."+Xt(I,0):nt,qt(_t)?(tt="",yt!=null&&(tt=yt.replace(R,"$&/")+"/"),U(_t,F,tt,"",function(Sn){return Sn})):_t!=null&&(D(_t)&&(_t=V(_t,tt+(_t.key==null||I&&I.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+yt)),F.push(_t)),1;yt=0;var de=nt===""?".":nt+":";if(qt(I))for(var Zt=0;Zt<I.length;Zt++)nt=I[Zt],Rt=de+Xt(nt,Zt),yt+=U(nt,F,tt,Rt,_t);else if(Zt=G(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(nt=I.next()).done;)nt=nt.value,Rt=de+Xt(nt,Zt++),yt+=U(nt,F,tt,Rt,_t);else if(Rt==="object"){if(typeof I.then=="function")return U(ot(I),F,tt,nt,_t);throw F=String(I),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return yt}function X(I,F,tt){if(I==null)return I;var nt=[],_t=0;return U(I,nt,"","",function(Rt){return F.call(tt,Rt,_t++)}),nt}function H(I){if(I._status===-1){var F=I._result;F=F(),F.then(function(tt){(I._status===0||I._status===-1)&&(I._status=1,I._result=tt)},function(tt){(I._status===0||I._status===-1)&&(I._status=2,I._result=tt)}),I._status===-1&&(I._status=0,I._result=F)}if(I._status===1)return I._result.default;throw I._result}var mt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},At={map:X,forEach:function(I,F,tt){X(I,function(){F.apply(this,arguments)},tt)},count:function(I){var F=0;return X(I,function(){F++}),F},toArray:function(I){return X(I,function(F){return F})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return It.Activity=S,It.Children=At,It.Component=ft,It.Fragment=n,It.Profiler=l,It.PureComponent=dt,It.StrictMode=s,It.Suspense=g,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,It.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},It.cache=function(I){return function(){return I.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(I,F,tt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var nt=et({},I.props),_t=I.key;if(F!=null)for(Rt in F.key!==void 0&&(_t=""+F.key),F)!A.call(F,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&F.ref===void 0||(nt[Rt]=F[Rt]);var Rt=arguments.length-2;if(Rt===1)nt.children=tt;else if(1<Rt){for(var yt=Array(Rt),de=0;de<Rt;de++)yt[de]=arguments[de+2];nt.children=yt}return w(I.type,_t,nt)},It.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},It.createElement=function(I,F,tt){var nt,_t={},Rt=null;if(F!=null)for(nt in F.key!==void 0&&(Rt=""+F.key),F)A.call(F,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(_t[nt]=F[nt]);var yt=arguments.length-2;if(yt===1)_t.children=tt;else if(1<yt){for(var de=Array(yt),Zt=0;Zt<yt;Zt++)de[Zt]=arguments[Zt+2];_t.children=de}if(I&&I.defaultProps)for(nt in yt=I.defaultProps,yt)_t[nt]===void 0&&(_t[nt]=yt[nt]);return w(I,Rt,_t)},It.createRef=function(){return{current:null}},It.forwardRef=function(I){return{$$typeof:p,render:I}},It.isValidElement=D,It.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:H}},It.memo=function(I,F){return{$$typeof:y,type:I,compare:F===void 0?null:F}},It.startTransition=function(I){var F=N.T,tt={};N.T=tt;try{var nt=I(),_t=N.S;_t!==null&&_t(tt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(wt,mt)}catch(Rt){mt(Rt)}finally{F!==null&&tt.types!==null&&(F.types=tt.types),N.T=F}},It.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},It.use=function(I){return N.H.use(I)},It.useActionState=function(I,F,tt){return N.H.useActionState(I,F,tt)},It.useCallback=function(I,F){return N.H.useCallback(I,F)},It.useContext=function(I){return N.H.useContext(I)},It.useDebugValue=function(){},It.useDeferredValue=function(I,F){return N.H.useDeferredValue(I,F)},It.useEffect=function(I,F){return N.H.useEffect(I,F)},It.useEffectEvent=function(I){return N.H.useEffectEvent(I)},It.useId=function(){return N.H.useId()},It.useImperativeHandle=function(I,F,tt){return N.H.useImperativeHandle(I,F,tt)},It.useInsertionEffect=function(I,F){return N.H.useInsertionEffect(I,F)},It.useLayoutEffect=function(I,F){return N.H.useLayoutEffect(I,F)},It.useMemo=function(I,F){return N.H.useMemo(I,F)},It.useOptimistic=function(I,F){return N.H.useOptimistic(I,F)},It.useReducer=function(I,F,tt){return N.H.useReducer(I,F,tt)},It.useRef=function(I){return N.H.useRef(I)},It.useState=function(I){return N.H.useState(I)},It.useSyncExternalStore=function(I,F,tt){return N.H.useSyncExternalStore(I,F,tt)},It.useTransition=function(){return N.H.useTransition()},It.version="19.2.0",It}var K_;function Om(){return K_||(K_=1,Bd.exports=rS()),Bd.exports}var Pt=Om(),jd={exports:{}},wl={},qd={exports:{}},Hd={};var X_;function sS(){return X_||(X_=1,(function(r){function t(U,X){var H=U.length;U.push(X);t:for(;0<H;){var mt=H-1>>>1,At=U[mt];if(0<l(At,X))U[mt]=X,U[H]=At,H=mt;else break t}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var X=U[0],H=U.pop();if(H!==X){U[0]=H;t:for(var mt=0,At=U.length,I=At>>>1;mt<I;){var F=2*(mt+1)-1,tt=U[F],nt=F+1,_t=U[nt];if(0>l(tt,H))nt<At&&0>l(_t,tt)?(U[mt]=_t,U[nt]=H,mt=nt):(U[mt]=tt,U[F]=H,mt=F);else if(nt<At&&0>l(_t,H))U[mt]=_t,U[nt]=H,mt=nt;else break t}}return X}function l(U,X){var H=U.sortIndex-X.sortIndex;return H!==0?H:U.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],T=1,S=null,M=3,G=!1,J=!1,et=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Mt(U){for(var X=n(y);X!==null;){if(X.callback===null)s(y);else if(X.startTime<=U)s(y),X.sortIndex=X.expirationTime,t(g,X);else break;X=n(y)}}function qt(U){if(et=!1,Mt(U),!J)if(n(g)!==null)J=!0,wt||(wt=!0,x());else{var X=n(y);X!==null&&ot(qt,X.startTime-U)}}var wt=!1,N=-1,A=5,w=-1;function V(){return W?!0:!(r.unstable_now()-w<A)}function D(){if(W=!1,wt){var U=r.unstable_now();w=U;var X=!0;try{t:{J=!1,et&&(et=!1,Et(N),N=-1),G=!0;var H=M;try{e:{for(Mt(U),S=n(g);S!==null&&!(S.expirationTime>U&&V());){var mt=S.callback;if(typeof mt=="function"){S.callback=null,M=S.priorityLevel;var At=mt(S.expirationTime<=U);if(U=r.unstable_now(),typeof At=="function"){S.callback=At,Mt(U),X=!0;break e}S===n(g)&&s(g),Mt(U)}else s(g);S=n(g)}if(S!==null)X=!0;else{var I=n(y);I!==null&&ot(qt,I.startTime-U),X=!1}}break t}finally{S=null,M=H,G=!1}X=void 0}}finally{X?x():wt=!1}}}var x;if(typeof dt=="function")x=function(){dt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xt=R.port2;R.port1.onmessage=D,x=function(){Xt.postMessage(null)}}else x=function(){ft(D,0)};function ot(U,X){N=ft(function(){U(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(U){switch(M){case 1:case 2:case 3:var X=3;break;default:X=M}var H=M;M=X;try{return U()}finally{M=H}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=M;M=U;try{return X()}finally{M=H}},r.unstable_scheduleCallback=function(U,X,H){var mt=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?mt+H:mt):H=mt,U){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=H+At,U={id:T++,callback:X,priorityLevel:U,startTime:H,expirationTime:At,sortIndex:-1},H>mt?(U.sortIndex=H,t(y,U),n(g)===null&&U===n(y)&&(et?(Et(N),N=-1):et=!0,ot(qt,H-mt))):(U.sortIndex=At,t(g,U),J||G||(J=!0,wt||(wt=!0,x()))),U},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(U){var X=M;return function(){var H=M;M=X;try{return U.apply(this,arguments)}finally{M=H}}}})(Hd)),Hd}var $_;function aS(){return $_||($_=1,qd.exports=sS()),qd.exports}var Gd={exports:{}},Ze={};var Z_;function oS(){if(Z_)return Ze;Z_=1;var r=Om();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Ze.flushSync=function(g){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=T,s.d.f()}},Ze.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ze.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ze.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:G}):T==="script"&&s.d.X(g,{crossOrigin:S,integrity:M,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ze.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ze.requestFormReset=function(g){s.d.r(g)},Ze.unstable_batchedUpdates=function(g,y){return g(y)},Ze.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var J_;function lS(){if(J_)return Gd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=oS(),Gd.exports}var W_;function uS(){if(W_)return wl;W_=1;var r=aS(),t=Om(),n=lS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=d;break}if(E===o){_=!0,o=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,o=h;break}if(E===o){_=!0,o=d,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case qt:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:Xt(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Xt(e(i))}catch{}}return null}var ot=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},mt=[],At=-1;function I(e){return{current:e}}function F(e){0>At||(e.current=mt[At],mt[At]=null,At--)}function tt(e,i){At++,mt[At]=e.current,e.current=i}var nt=I(null),_t=I(null),Rt=I(null),yt=I(null);function de(e,i){switch(tt(Rt,i),tt(_t,e),tt(nt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?m_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=m_(i),e=p_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(nt),tt(nt,e)}function Zt(){F(nt),F(_t),F(Rt)}function Sn(e){e.memoizedState!==null&&tt(yt,e);var i=nt.current,a=p_(i,e.type);i!==a&&(tt(_t,e),tt(nt,a))}function ri(e){_t.current===e&&(F(nt),F(_t)),yt.current===e&&(F(yt),El._currentValue=H)}var jn,ea;function si(e){if(jn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);jn=i&&i[1]||"",ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+e+ea}var Eo=!1;function hs(e,i){if(!e||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var B=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){B=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){B=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var C=_.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Q=`
`+C[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function To(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return si("Activity");default:return""}}function bo(e){try{var i="",a=null;do i+=To(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,hr=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,au=r.unstable_requestPaint,nn=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,So=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,jh=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,uu=r.unstable_setDisableYieldValue,qn=null,qe=null;function wn(e){if(typeof lu=="function"&&uu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(qn,e)}catch{}}var ge=Math.clz32?Math.clz32:hu,cu=Math.log,na=Math.LN2;function hu(e){return e>>>=0,e===0?32:31-(cu(e)/na|0)|0}var ai=256,ds=262144,be=4194304;function oi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=oi(o):(_&=E,_!==0?h=oi(_):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~d,E!==0?h=oi(E):_!==0?h=oi(_):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,i,a,o,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ge(a),K=1<<Q;E[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var q=B[Q];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&ps(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ps(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-ge(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function wo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:gs(a),(a&(e.suspendedLanes|i))!==0?0:a}function gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function Gn(e,i){var a=X.p;try{return X.p=e,i()}finally{X.p=a}}var Fn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Fn,Le="__reactProps$"+Fn,ci="__reactContainer$"+Fn,ia="__reactEvents$"+Fn,Gh="__reactListeners$"+Fn,mu="__reactHandles$"+Fn,pu="__reactResources$"+Fn,hi="__reactMarker$"+Fn;function ra(e){delete e[Ae],delete e[Le],delete e[ia],delete e[Gh],delete e[mu]}function fi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ci]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[Ae])return a;e=b_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Ae]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function di(e){var i=e[pu];return i||(i=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[hi]=!0}var Io=new Set,Co={};function mi(e,i){pi(e,i),pi(e+"Capture",i)}function pi(e,i){for(Co[e]=i,e=0;e<i.length;e++)Io.add(i[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function gu(e){return Te.call(Oo,e)?!0:Te.call(Do,e)?!1:No.test(e)?Oo[e]=!0:(Do[e]=!0,!1)}function sa(e,i,a){if(gu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Jt(e){if(!e._valueTracker){var i=dr(e)?"checked":"value";e._valueTracker=Mo(e,i,""+e[i])}}function ys(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=dr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _s=/[\n"\\]/g;function on(e){return e.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function aa(e,i,a,o,h,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Vo(e,_,Pe(i)):a!=null?Vo(e,_,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function yu(e,i,a,o,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Jt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Jt(e)}function Vo(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function mr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function _u(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function pr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ot(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Jt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||vu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ko(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&xo(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&xo(e,d,i[d])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return gr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Uo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yr=null,yi=null;function vs(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(aa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(s(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ys(o)}break t;case"textarea":_u(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&mr(e,!!a.multiple,i,!1)}}}var ua=!1;function _r(e,i,a){if(ua)return e(i,a);ua=!0;try{var o=e(i);return o}finally{if(ua=!1,(yr!==null||yi!==null)&&(dc(),yr&&(i=yr,e=yi,yi=yr=null,vs(i),e)))for(i=0;i<e.length;i++)vs(e[i])}}function Yn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Cn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Es=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Es=!1}var _i=null,Lo=null,Ts=null;function Po(){if(Ts)return Ts;var e,i=Lo,a=i.length,o,h="value"in _i?_i.value:_i.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return Ts=h.slice(e,1<o?1-o:void 0)}function bs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Kn(){return!1}function He(e){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=He(Li),vr=S({},Li,{view:0,detail:0}),zo=He(vr),Er,ca,Ei,ha=S({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Er=e.screenX-Ei.screenX,ca=e.screenY-Ei.screenY):ca=Er=0,Ei=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Bo=He(ha),As=S({},ha,{dataTransfer:0}),Tu=He(As),bu=S({},vr,{relatedTarget:0}),Ss=He(bu),jo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=He(jo),fa=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Su=He(fa),wu=S({},Li,{data:0}),Ti=He(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Cu[e])?!!i[e]:!1}function Tr(){return Nu}var rn=S({},vr,{key:function(e){if(e.key){var i=Ru[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Du=He(rn),Ou=S({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=He(Ou),c=S({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),m=He(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(v),L=S({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=He(L),it=S({},Li,{newState:0,oldState:0}),Nt=He(it),ye=[9,13,27,32],Yt=Cn&&"CompositionEvent"in window,ce=null;Cn&&"documentMode"in document&&(ce=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!ce,bi=Cn&&(!Yt||ce&&8<ce&&11>=ce),Xn=" ",$n=!1;function ws(e,i){switch(e){case"keyup":return ye.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function Rb(e,i){switch(e){case"compositionend":return da(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function Ib(e,i){if(ma)return e==="compositionend"||!Yt&&ws(e,i)?(e=Po(),Ts=Lo=_i=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var Cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Cb[e.type]:i==="textarea"}function Rp(e,i,a,o){yr?yi?yi.push(o):yi=[o]:yr=o,i=Ec(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var qo=null,Ho=null;function Nb(e){l_(e,0)}function Mu(e){var i=pn(e);if(ys(i))return e}function Ip(e,i){if(e==="change")return i}var Cp=!1;if(Cn){var Fh;if(Cn){var Qh="oninput"in document;if(!Qh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Qh=typeof Np.oninput=="function"}Fh=Qh}else Fh=!1;Cp=Fh&&(!document.documentMode||9<document.documentMode)}function Dp(){qo&&(qo.detachEvent("onpropertychange",Op),Ho=qo=null)}function Op(e){if(e.propertyName==="value"&&Mu(Ho)){var i=[];Rp(i,Ho,e,In(e)),_r(Nb,i)}}function Db(e,i,a){e==="focusin"?(Dp(),qo=i,Ho=a,qo.attachEvent("onpropertychange",Op)):e==="focusout"&&Dp()}function Ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(Ho)}function Mb(e,i){if(e==="click")return Mu(i)}function Vb(e,i){if(e==="input"||e==="change")return Mu(i)}function xb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var yn=typeof Object.is=="function"?Object.is:xb;function Go(e,i){if(yn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(i,h)||!yn(e[h],i[h]))return!1}return!0}function Mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vp(e,i){var a=Mp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Mp(a)}}function xp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?xp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function Yh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var kb=Cn&&"documentMode"in document&&11>=document.documentMode,pa=null,Kh=null,Fo=null,Xh=!1;function Up(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||pa==null||pa!==gi(o)||(o=pa,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Go(Fo,o)||(Fo=o,o=Ec(Kh,"onSelect"),0<o.length&&(i=new vi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=pa)))}function Rs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ga={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},$h={},Lp={};Cn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Is(e){if($h[e])return $h[e];if(!ga[e])return e;var i=ga[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lp)return $h[e]=i[a];return e}var Pp=Is("animationend"),zp=Is("animationiteration"),Bp=Is("animationstart"),Ub=Is("transitionrun"),Lb=Is("transitionstart"),Pb=Is("transitioncancel"),jp=Is("transitionend"),qp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Zn(e,i){qp.set(e,i),mi(i,[e])}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ya=0,Jh=0;function xu(){for(var e=ya,i=Jh=ya=0;i<e;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Hp(a,h,d)}}function ku(e,i,a,o){Dn[ya++]=e,Dn[ya++]=i,Dn[ya++]=a,Dn[ya++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,i,a,o){return ku(e,i,a,o),Uu(e)}function Cs(e,i){return ku(e,null,null,i),Uu(e)}function Hp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ge(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Uu(e){if(50<dl)throw dl=0,ud=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _a={};function zb(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,i,a,o){return new zb(e,i,a,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,i){var a=e.alternate;return a===null?(a=_n(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Lu(e,i,a,o,h,d){var _=0;if(o=e,typeof e=="function")tf(e)&&(_=1);else if(typeof e=="string")_=GA(e,a,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=_n(31,a,i,h),e.elementType=w,e.lanes=d,e;case et:return Ns(a.children,h,d,i);case W:_=8,h|=24;break;case ft:return e=_n(12,a,i,h|2),e.elementType=ft,e.lanes=d,e;case qt:return e=_n(13,a,i,h),e.elementType=qt,e.lanes=d,e;case wt:return e=_n(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:_=10;break t;case Et:_=9;break t;case Mt:_=11;break t;case N:_=14;break t;case A:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=_n(_,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Ns(e,i,a,o){return e=_n(7,e,o,i),e.lanes=a,e}function ef(e,i,a){return e=_n(6,e,null,i),e.lanes=a,e}function Fp(e){var i=_n(18,null,null,0);return i.stateNode=e,i}function nf(e,i,a){return i=_n(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Qp=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=Qp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:bo(i)},Qp.set(e,i),i)}return{value:e,source:i,stack:bo(i)}}var va=[],Ea=0,Pu=null,Qo=0,Mn=[],Vn=0,br=null,Ai=1,Si="";function Bi(e,i){va[Ea++]=Qo,va[Ea++]=Pu,Pu=e,Qo=i}function Yp(e,i,a){Mn[Vn++]=Ai,Mn[Vn++]=Si,Mn[Vn++]=br,br=e;var o=Ai;e=Si;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var d=32-ge(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ai=1<<32-ge(i)+h|a<<h|o,Si=d+e}else Ai=1<<d|a<<h|o,Si=e}function rf(e){e.return!==null&&(Bi(e,1),Yp(e,1,0))}function sf(e){for(;e===Pu;)Pu=va[--Ea],va[Ea]=null,Qo=va[--Ea],va[Ea]=null;for(;e===br;)br=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null}function Kp(e,i){Mn[Vn++]=Ai,Mn[Vn++]=Si,Mn[Vn++]=br,Ai=i.id,Si=i.overflow,br=e}var Ge=null,oe=null,Ht=!1,Ar=null,xn=!1,af=Error(s(519));function Sr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(On(i,e)),af}function Xp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ae]=e,i[Le]=o,a){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)kt(pl[a],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),yu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),pr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||f_(i.textContent,a)?(o.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),o.onScroll!=null&&kt("scroll",i),o.onScrollEnd!=null&&kt("scrollend",i),o.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Sr(e,!0)}function $p(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Ge=Ge.return}}function Ta(e){if(e!==Ge)return!1;if(!Ht)return $p(e),Ht=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&oe&&Sr(e),$p(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));oe=T_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));oe=T_(e)}else i===27?(i=oe,Pr(e.type)?(e=Nd,Nd=null,oe=e):oe=i):oe=Ge?Un(e.stateNode.nextSibling):null;return!0}function Ds(){oe=Ge=null,Ht=!1}function of(){var e=Ar;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ar=null),e}function Yo(e){Ar===null?Ar=[e]:Ar.push(e)}var lf=I(null),Os=null,ji=null;function wr(e,i,a){tt(lf,i._currentValue),i._currentValue=a}function qi(e){e._currentValue=lf.current,F(lf)}function uf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),uf(d.return,a,e),o||(_=null);break t}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),uf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ba(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;yn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===yt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&cf(i,e,a,o),i.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Os=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Zp(Os,e)}function Bu(e,i){return Os===null&&Ms(e),Zp(e,i)}function Zp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return a}var Bb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},jb=r.unstable_scheduleCallback,qb=r.unstable_NormalPriority,Re={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new Bb,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&jb(qb,function(){e.controller.abort()})}var Xo=null,ff=0,Aa=0,Sa=null;function Hb(e,i){if(Xo===null){var a=Xo=[];ff=0,Aa=pd(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,i.then(Jp,Jp),i}function Jp(){if(--ff===0&&Xo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Xo;Xo=null,Aa=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Gb(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Wp=U.S;U.S=function(e,i){Uy=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Hb(e,i),Wp!==null&&Wp(e,i)};var Vs=I(null);function df(){var e=Vs.current;return e!==null?e:se.pooledCache}function ju(e,i){i===null?tt(Vs,Vs.current):tt(Vs,i.pool)}function tg(){var e=df();return e===null?null:{parent:Re._currentValue,pool:e}}var wa=Error(s(460)),mf=Error(s(474)),qu=Error(s(542)),Hu={then:function(){}};function eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ng(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,rg(e),e;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,rg(e),e}throw ks=i,wa}}function xs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ks=a,wa):a}}var ks=null;function ig(){if(ks===null)throw Error(s(459));var e=ks;return ks=null,e}function rg(e){if(e===wa||e===qu)throw Error(s(483))}var Ra=null,$o=0;function Gu(e){var i=$o;return $o+=1,Ra===null&&(Ra=[]),ng(Ra,e,i)}function Zo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fu(e,i){throw i.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function sg(e){function i(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=zi(k,O),k.index=0,k.sibling=null,k}function d(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Y){return O===null||O.tag!==6?(O=ef(P,k.mode,Y),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Y){var pt=P.type;return pt===et?Q(k,O,P.props.children,Y,P.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&xs(pt)===O.type)?(O=h(O,P.props),Zo(O,P),O.return=k,O):(O=Lu(P.type,P.key,P.props,null,k.mode,Y),Zo(O,P),O.return=k,O)}function z(k,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=nf(P,k.mode,Y),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,Y,pt){return O===null||O.tag!==7?(O=Ns(P,k.mode,Y,pt),O.return=k,O):(O=h(O,P),O.return=k,O)}function K(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=Lu(O.type,O.key,O.props,null,k.mode,P),Zo(P,O),P.return=k,P;case J:return O=nf(O,k.mode,P),O.return=k,O;case A:return O=xs(O),K(k,O,P)}if(ot(O)||x(O))return O=Ns(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return K(k,Gu(O),P);if(O.$$typeof===dt)return K(k,Bu(k,O),P);Fu(k,O)}return null}function B(k,O,P,Y){var pt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:E(k,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===pt?C(k,O,P,Y):null;case J:return P.key===pt?z(k,O,P,Y):null;case A:return P=xs(P),B(k,O,P,Y)}if(ot(P)||x(P))return pt!==null?null:Q(k,O,P,Y,null);if(typeof P.then=="function")return B(k,O,Gu(P),Y);if(P.$$typeof===dt)return B(k,O,Bu(k,P),Y);Fu(k,P)}return null}function q(k,O,P,Y,pt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(O,k,""+Y,pt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?P:Y.key)||null,C(O,k,Y,pt);case J:return k=k.get(Y.key===null?P:Y.key)||null,z(O,k,Y,pt);case A:return Y=xs(Y),q(k,O,P,Y,pt)}if(ot(Y)||x(Y))return k=k.get(P)||null,Q(O,k,Y,pt,null);if(typeof Y.then=="function")return q(k,O,P,Gu(Y),pt);if(Y.$$typeof===dt)return q(k,O,P,Bu(O,Y),pt);Fu(O,Y)}return null}function lt(k,O,P,Y){for(var pt=null,Ft=null,ht=O,Ot=O=0,Lt=null;ht!==null&&Ot<P.length;Ot++){ht.index>Ot?(Lt=ht,ht=null):Lt=ht.sibling;var Qt=B(k,ht,P[Ot],Y);if(Qt===null){ht===null&&(ht=Lt);break}e&&ht&&Qt.alternate===null&&i(k,ht),O=d(Qt,O,Ot),Ft===null?pt=Qt:Ft.sibling=Qt,Ft=Qt,ht=Lt}if(Ot===P.length)return a(k,ht),Ht&&Bi(k,Ot),pt;if(ht===null){for(;Ot<P.length;Ot++)ht=K(k,P[Ot],Y),ht!==null&&(O=d(ht,O,Ot),Ft===null?pt=ht:Ft.sibling=ht,Ft=ht);return Ht&&Bi(k,Ot),pt}for(ht=o(ht);Ot<P.length;Ot++)Lt=q(ht,k,Ot,P[Ot],Y),Lt!==null&&(e&&Lt.alternate!==null&&ht.delete(Lt.key===null?Ot:Lt.key),O=d(Lt,O,Ot),Ft===null?pt=Lt:Ft.sibling=Lt,Ft=Lt);return e&&ht.forEach(function(Hr){return i(k,Hr)}),Ht&&Bi(k,Ot),pt}function vt(k,O,P,Y){if(P==null)throw Error(s(151));for(var pt=null,Ft=null,ht=O,Ot=O=0,Lt=null,Qt=P.next();ht!==null&&!Qt.done;Ot++,Qt=P.next()){ht.index>Ot?(Lt=ht,ht=null):Lt=ht.sibling;var Hr=B(k,ht,Qt.value,Y);if(Hr===null){ht===null&&(ht=Lt);break}e&&ht&&Hr.alternate===null&&i(k,ht),O=d(Hr,O,Ot),Ft===null?pt=Hr:Ft.sibling=Hr,Ft=Hr,ht=Lt}if(Qt.done)return a(k,ht),Ht&&Bi(k,Ot),pt;if(ht===null){for(;!Qt.done;Ot++,Qt=P.next())Qt=K(k,Qt.value,Y),Qt!==null&&(O=d(Qt,O,Ot),Ft===null?pt=Qt:Ft.sibling=Qt,Ft=Qt);return Ht&&Bi(k,Ot),pt}for(ht=o(ht);!Qt.done;Ot++,Qt=P.next())Qt=q(ht,k,Ot,Qt.value,Y),Qt!==null&&(e&&Qt.alternate!==null&&ht.delete(Qt.key===null?Ot:Qt.key),O=d(Qt,O,Ot),Ft===null?pt=Qt:Ft.sibling=Qt,Ft=Qt);return e&&ht.forEach(function(eS){return i(k,eS)}),Ht&&Bi(k,Ot),pt}function re(k,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var pt=P.key;O!==null;){if(O.key===pt){if(pt=P.type,pt===et){if(O.tag===7){a(k,O.sibling),Y=h(O,P.props.children),Y.return=k,k=Y;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===A&&xs(pt)===O.type){a(k,O.sibling),Y=h(O,P.props),Zo(Y,P),Y.return=k,k=Y;break t}a(k,O);break}else i(k,O);O=O.sibling}P.type===et?(Y=Ns(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Lu(P.type,P.key,P.props,null,k.mode,Y),Zo(Y,P),Y.return=k,k=Y)}return _(k);case J:t:{for(pt=P.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Y=h(O,P.children||[]),Y.return=k,k=Y;break t}else{a(k,O);break}else i(k,O);O=O.sibling}Y=nf(P,k.mode,Y),Y.return=k,k=Y}return _(k);case A:return P=xs(P),re(k,O,P,Y)}if(ot(P))return lt(k,O,P,Y);if(x(P)){if(pt=x(P),typeof pt!="function")throw Error(s(150));return P=pt.call(P),vt(k,O,P,Y)}if(typeof P.then=="function")return re(k,O,Gu(P),Y);if(P.$$typeof===dt)return re(k,O,Bu(k,P),Y);Fu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,P),Y.return=k,k=Y):(a(k,O),Y=ef(P,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,O)}return function(k,O,P,Y){try{$o=0;var pt=re(k,O,P,Y);return Ra=null,pt}catch(ht){if(ht===wa||ht===qu)throw ht;var Ft=_n(29,ht,null,k.mode);return Ft.lanes=Y,Ft.return=k,Ft}finally{}}}var Us=sg(!0),ag=sg(!1),Rr=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Uu(e),Hp(e,null,a),i}return ku(e,o,i,a),Uu(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wo(e,a)}}function yf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function Wo(){if(_f){var e=Sa;if(e!==null)throw e}}function tl(e,i,a,o){_f=!1;var h=e.updateQueue;Rr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==_&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=C))}if(d!==null){var K=h.baseState;_=0,Q=z=C=null,E=d;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ut&B)===B:(o&B)===B){B!==0&&B===Aa&&(_f=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,vt=E;B=i;var re=a;switch(vt.tag){case 1:if(lt=vt.payload,typeof lt=="function"){K=lt.call(re,K,B);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=vt.payload,B=typeof lt=="function"?lt.call(re,K,B):lt,B==null)break t;K=S({},K,B);break t;case 2:Rr=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=q,C=K):Q=Q.next=q,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Vr|=_,e.lanes=_,e.memoizedState=K}}function og(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function lg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)og(a[e],i)}var Ia=I(null),Qu=I(0);function ug(e,i){e=Zi,tt(Qu,e),tt(Ia,i),Zi=e|i.baseLanes}function vf(){tt(Qu,Zi),tt(Ia,Ia.current)}function Ef(){Zi=Qu.current,F(Ia),F(Qu)}var vn=I(null),kn=null;function Nr(e){var i=e.alternate;tt(_e,_e.current&1),tt(vn,e),kn===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(kn=e)}function Tf(e){tt(_e,_e.current),tt(vn,e),kn===null&&(kn=e)}function cg(e){e.tag===22?(tt(_e,_e.current),tt(vn,e),kn===null&&(kn=e)):Dr()}function Dr(){tt(_e,_e.current),tt(vn,vn.current)}function En(e){F(vn),kn===e&&(kn=null),F(_e)}var _e=I(0);function Yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,Dt=null,ne=null,Ie=null,Ku=!1,Ca=!1,Ls=!1,Xu=0,el=0,Na=null,Fb=0;function me(){throw Error(s(321))}function bf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!yn(e[a],i[a]))return!1;return!0}function Af(e,i,a,o,h,d){return Hi=d,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=e===null||e.memoizedState===null?Yg:Pf,Ls=!1,d=a(o,h),Ls=!1,Ca&&(d=fg(i,a,o,h)),hg(e),d}function hg(e){U.H=rl;var i=ne!==null&&ne.next!==null;if(Hi=0,Ie=ne=Dt=null,Ku=!1,el=0,Na=null,i)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&zu(e)&&(Ce=!0))}function fg(e,i,a,o){Dt=e;var h=0;do{if(Ca&&(Na=null),el=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,Ie=ne=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=Kg,d=i(a,o)}while(Ca);return d}function Qb(){var e=U.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(Dt.flags|=1024),i}function Sf(){var e=Xu!==0;return Xu=0,e}function wf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Rf(e){if(Ku){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ku=!1}Hi=0,Ie=ne=Dt=null,Ca=!1,el=Xu=0,Na=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Dt.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function ve(){if(ne===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var i=Ie===null?Dt.memoizedState:Ie.next;if(i!==null)Ie=i,ne=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ie===null?Dt.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,Na===null&&(Na=[]),e=ng(Na,e,i),i=Dt,(Ie===null?i.memoizedState:Ie.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Yg:Pf),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===dt)return Fe(e)}throw Error(s(438,String(e)))}function If(e){var i=null,a=Dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$u(),Dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function Ju(e){var i=ve();return Cf(i,ne,e)}function Cf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=_=null,C=null,z=i,Q=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ut&K)===K:(Hi&K)===K){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Aa&&(Q=!0);else if((Hi&B)===B){z=z.next,B===Aa&&(Q=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=K,_=d):C=C.next=K,Dt.lanes|=B,Vr|=B;K=z.action,Ls&&a(d,K),d=z.hasEagerState?z.eagerState:a(d,K)}else B={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,_=d):C=C.next=B,Dt.lanes|=K,Vr|=K;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=E,!yn(d,e.memoizedState)&&(Ce=!0,Q&&(a=Sa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Nf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function dg(e,i,a){var o=Dt,h=ve(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((ne||h).memoizedState,a);if(_&&(h.memoizedState=a,Ce=!0),h=h.queue,Mf(gg.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},pg.bind(null,o,h,a,i),null),se===null)throw Error(s(349));d||(Hi&127)!==0||mg(o,i,a)}return a}function mg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i=$u(),Dt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function pg(e,i,a,o){i.value=a,i.getSnapshot=o,yg(i)&&_g(e)}function gg(e,i,a){return a(function(){yg(i)&&_g(e)})}function yg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!yn(e,a)}catch{return!0}}function _g(e){var i=Cs(e,2);i!==null&&dn(i,e,2)}function Df(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Ls){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function vg(e,i,a,o){return e.baseState=a,Cf(e,ne,typeof o=="function"?o:Gi)}function Yb(e,i,a,o,h){if(ec(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};U.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Eg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=U.T,_={};U.T=_;try{var E=a(h,o),C=U.S;C!==null&&C(_,E),Tg(e,i,E)}catch(z){Of(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),U.T=d}}else try{d=a(h,o),Tg(e,i,d)}catch(z){Of(e,i,z)}}function Tg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bg(e,i,o)},function(o){return Of(e,i,o)}):bg(e,i,a)}function bg(e,i,a){i.status="fulfilled",i.value=a,Ag(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Eg(e,a)))}function Of(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Ag(i),i=i.next;while(i!==o)}e.action=null}function Ag(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Sg(e,i){return i}function wg(e,i){if(Ht){var a=se.formState;if(a!==null){t:{var o=Dt;if(Ht){if(oe){e:{for(var h=oe,d=xn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Un(h.nextSibling),o=h.data==="F!";break t}}Sr(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:i},a.queue=o,a=Gg.bind(null,Dt,o),o.dispatch=a,o=Df(!1),d=Lf.bind(null,Dt,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=Yb.bind(null,Dt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Rg(e){var i=ve();return Ig(i,ne,e)}function Ig(e,i,a){if(i=Cf(e,i,Sg)[0],e=Ju(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=nl(i)}catch(_){throw _===wa?qu:_}else o=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Dt.flags|=2048,Da(9,{destroy:void 0},Kb.bind(null,h,a),null)),[o,d,e]}function Kb(e,i){e.action=i}function Cg(e){var i=ve(),a=ne;if(a!==null)return Ig(i,a,e);ve(),i=i.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Da(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=$u(),Dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Ng(){return ve().memoizedState}function Wu(e,i,a,o){var h=sn();Dt.flags|=e,h.memoizedState=Da(1|i,{destroy:void 0},a,o===void 0?null:o)}function tc(e,i,a,o){var h=ve();o=o===void 0?null:o;var d=h.memoizedState.inst;ne!==null&&o!==null&&bf(o,ne.memoizedState.deps)?h.memoizedState=Da(i,d,a,o):(Dt.flags|=e,h.memoizedState=Da(1|i,d,a,o))}function Dg(e,i){Wu(8390656,8,e,i)}function Mf(e,i){tc(2048,8,e,i)}function Xb(e){Dt.flags|=4;var i=Dt.updateQueue;if(i===null)i=$u(),Dt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Og(e){var i=ve().memoizedState;return Xb({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Mg(e,i){return tc(4,2,e,i)}function Vg(e,i){return tc(4,4,e,i)}function xg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function kg(e,i,a){a=a!=null?a.concat([e]):null,tc(4,4,xg.bind(null,i,e),a)}function Vf(){}function Ug(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&bf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Lg(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&bf(i,o[1]))return o[0];if(o=e(),Ls){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,i],o}function xf(e,i,a){return a===void 0||(Hi&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Py(),Dt.lanes|=e,Vr|=e,a)}function Pg(e,i,a,o){return yn(a,i)?a:Ia.current!==null?(e=xf(e,a,o),yn(e,i)||(Ce=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Ut&261930)===0?(Ce=!0,e.memoizedState=a):(e=Py(),Dt.lanes|=e,Vr|=e,i)}function zg(e,i,a,o,h){var d=X.p;X.p=d!==0&&8>d?d:8;var _=U.T,E={};U.T=E,Lf(e,!1,i,a);try{var C=h(),z=U.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=Gb(C,o);il(e,i,Q,An(e))}else il(e,i,o,An(e))}catch(K){il(e,i,{then:function(){},status:"rejected",reason:K},An())}finally{X.p=d,_!==null&&E.types!==null&&(_.types=E.types),U.T=_}}function $b(){}function kf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Bg(e).queue;zg(e,h,i,H,a===null?$b:function(){return jg(e),a(o)})}function Bg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:H},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function jg(e){var i=Bg(e);i.next===null&&(i=e.alternate.memoizedState),il(e,i.next.queue,{},An())}function Uf(){return Fe(El)}function qg(){return ve().memoizedState}function Hg(){return ve().memoizedState}function Zb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();e=Ir(a);var o=Cr(i,e,a);o!==null&&(dn(o,i,a),Jo(o,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function Jb(e,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(e)?Fg(i,a):(a=Wh(e,i,a,o),a!==null&&(dn(a,e,o),Qg(a,i,o)))}function Gg(e,i,a){var o=An();il(e,i,a,o)}function il(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(e))Fg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,_))return ku(e,i,h,0),se===null&&xu(),!1}catch{}finally{}if(a=Wh(e,i,h,o),a!==null)return dn(a,e,o),Qg(a,i,o),!0}return!1}function Lf(e,i,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(i)throw Error(s(479))}else i=Wh(e,a,o,2),i!==null&&dn(i,e,2)}function ec(e){var i=e.alternate;return e===Dt||i!==null&&i===Dt}function Fg(e,i){Ca=Ku=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Qg(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wo(e,a)}}var rl={readContext:Fe,use:Zu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};rl.useEffectEvent=me;var Yg={readContext:Fe,use:Zu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Dg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Wu(4194308,4,xg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Wu(4194308,4,e,i)},useInsertionEffect:function(e,i){Wu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(Ls){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Ls){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Jb.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Df(e);var i=e.queue,a=Gg.bind(null,Dt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,i){var a=sn();return xf(a,e,i)},useTransition:function(){var e=Df(!1);return e=zg.bind(null,Dt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Dt,h=sn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),se===null)throw Error(s(349));(Ut&127)!==0||mg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Dg(gg.bind(null,o,d,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},pg.bind(null,o,d,a,i),null),a},useId:function(){var e=sn(),i=se.identifierPrefix;if(Ht){var a=Si,o=Ai;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Fb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Uf,useFormState:wg,useActionState:wg,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Lf.bind(null,Dt,!0,a),a.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return sn().memoizedState=Zb.bind(null,Dt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:Fe,use:Zu,useCallback:Ug,useContext:Fe,useEffect:Mf,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Lg,useReducer:Ju,useRef:Ng,useState:function(){return Ju(Gi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=ve();return Pg(a,ne.memoizedState,e,i)},useTransition:function(){var e=Ju(Gi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Uf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,i){var a=ve();return vg(a,ne,e,i)},useMemoCache:If,useCacheRefresh:Hg};Pf.useEffectEvent=Og;var Kg={readContext:Fe,use:Zu,useCallback:Ug,useContext:Fe,useEffect:Mf,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Lg,useReducer:Nf,useRef:Ng,useState:function(){return Nf(Gi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=ve();return ne===null?xf(a,e,i):Pg(a,ne.memoizedState,e,i)},useTransition:function(){var e=Nf(Gi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Uf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,i){var a=ve();return ne!==null?vg(a,ne,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Hg};Kg.useEffectEvent=Og;function zf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=An(),h=Ir(o);h.payload=i,a!=null&&(h.callback=a),i=Cr(e,h,o),i!==null&&(dn(i,e,o),Jo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=An(),h=Ir(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cr(e,h,o),i!==null&&(dn(i,e,o),Jo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=An(),o=Ir(a);o.tag=2,i!=null&&(o.callback=i),i=Cr(e,o,a),i!==null&&(dn(i,e,a),Jo(i,e,a))}};function Xg(e,i,a,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!Go(a,o)||!Go(h,d):!0}function $g(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Bf.enqueueReplaceState(i,i.state,null)}function Ps(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Zg(e){Vu(e)}function Jg(e){console.error(e)}function Wg(e){Vu(e)}function nc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ty(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(e,i)},a}function ey(e){return e=Ir(e),e.tag=3,e}function ny(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){ty(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ty(i,a,o),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Wb(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ba(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?mc():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),fd(e,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),fd(e,o,h)),!1}throw Error(s(435,a.tag))}return fd(e,o,h),mc(),!1}if(Ht)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==af&&(e=Error(s(422),{cause:o}),Yo(On(e,a)))):(o!==af&&(i=Error(s(423),{cause:o}),Yo(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=jf(e.stateNode,o,h),yf(e,h),pe!==4&&(pe=2)),!1;var d=Error(s(520),{cause:o});if(d=On(d,a),fl===null?fl=[d]:fl.push(d),pe!==4&&(pe=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),yf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ey(h),ny(h,e,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),Ce=!1;function Qe(e,i,a,o){i.child=e===null?ag(i,null,a,o):Us(i,e.child,a,o)}function iy(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Ms(i),o=Af(e,i,a,_,d,h),E=Sf(),e!==null&&!Ce?(wf(e,i,h),Fi(e,i,h)):(Ht&&E&&rf(i),i.flags|=1,Qe(e,i,o,h),i.child)}function ry(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,sy(e,i,d,o,h)):(e=Lu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!$f(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,o)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=zi(d,o),e.ref=i.ref,e.return=i,i.child=e}function sy(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Go(d,o)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=o=d,$f(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return Hf(e,i,a,o,h)}function ay(e,i,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return oy(e,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(i,d!==null?d.cachePool:null),d!==null?ug(i,d):vf(),cg(i);else return o=i.lanes=536870912,oy(e,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(ju(i,d.cachePool),ug(i,d),Dr(),i.memoizedState=null):(e!==null&&ju(i,null),vf(),Dr());return Qe(e,i,h,a),i.child}function sl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function oy(e,i,a,o,h){var d=df();return d=d===null?null:{parent:Re._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ju(i,null),vf(),cg(i),e!==null&&ba(e,i,o,!0),i.childLanes=h,null}function ic(e,i){return i=sc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function ly(e,i,a){return Us(i,e.child,null,a),e=ic(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function tA(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=ic(i,o),i.lanes=536870912,sl(null,e);if(Tf(i),(e=oe)?(e=E_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=i,i.child=a,Ge=i,oe=null)):e=null,e===null)throw Sr(i);return i.lanes=536870912,null}return ic(i,o)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=ly(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ce||ba(e,i,a,!1),h=(a&e.childLanes)!==0,Ce||h){if(o=se,o!==null&&(_=Ro(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Cs(e,_),dn(o,e,_),qf;mc(),i=ly(e,i,a)}else e=d.treeContext,oe=Un(_.nextSibling),Ge=i,Ht=!0,Ar=null,xn=!1,e!==null&&Kp(i,e),i=ic(i,o),i.flags|=4096;return i}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Hf(e,i,a,o,h){return Ms(i),a=Af(e,i,a,o,void 0,h),o=Sf(),e!==null&&!Ce?(wf(e,i,h),Fi(e,i,h)):(Ht&&o&&rf(i),i.flags|=1,Qe(e,i,a,h),i.child)}function uy(e,i,a,o,h,d){return Ms(i),i.updateQueue=null,a=fg(i,o,a,h),hg(e),o=Sf(),e!==null&&!Ce?(wf(e,i,d),Fi(e,i,d)):(Ht&&o&&rf(i),i.flags|=1,Qe(e,i,a,d),i.child)}function cy(e,i,a,o,h){if(Ms(i),i.stateNode===null){var d=_a,_=a.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):_a,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zf(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bf.enqueueReplaceState(d,d.state,null),tl(i,o,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,C=Ps(a,E);d.props=C;var z=d.context,Q=a.contextType;_=_a,typeof Q=="object"&&Q!==null&&(_=Fe(Q));var K=a.getDerivedStateFromProps;Q=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==_)&&$g(i,d,o,_),Rr=!1;var B=i.memoizedState;d.state=B,tl(i,o,d,h),Wo(),z=i.memoizedState,E||B!==z||Rr?(typeof K=="function"&&(zf(i,a,K,o),z=i.memoizedState),(C=Rr||Xg(i,a,C,o,B,z,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,gf(e,i),_=i.memoizedProps,Q=Ps(a,_),d.props=Q,K=i.pendingProps,B=d.context,z=a.contextType,C=_a,typeof z=="object"&&z!==null&&(C=Fe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==K||B!==C)&&$g(i,d,o,C),Rr=!1,B=i.memoizedState,d.state=B,tl(i,o,d,h),Wo();var q=i.memoizedState;_!==K||B!==q||Rr||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof E=="function"&&(zf(i,a,E,o),q=i.memoizedState),(Q=Rr||Xg(i,a,Q,o,B,q,C)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=C,o=Q):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,rc(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Us(i,e.child,null,h),i.child=Us(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Fi(e,i,h),e}function hy(e,i,a,o){return Ds(),i.flags|=256,Qe(e,i,a,o),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:tg()}}function Qf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function fy(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?Nr(i):Dr(),(e=oe)?(e=E_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=i,i.child=a,Ge=i,oe=null)):e=null,e===null)throw Sr(i);return Cd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Dr(),h=i.mode,E=sc({mode:"hidden",children:E},h),o=Ns(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Ff(a),o.childLanes=Qf(e,_,a),i.memoizedState=Gf,sl(null,o)):(Nr(i),Yf(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=Kf(e,i,a)):i.memoizedState!==null?(Dr(),i.child=e.child,i.flags|=128,i=null):(Dr(),E=o.fallback,h=i.mode,o=sc({mode:"visible",children:o.children},h),E=Ns(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Us(i,e.child,null,a),o=i.child,o.memoizedState=Ff(a),o.childLanes=Qf(e,_,a),i.memoizedState=Gf,i=sl(null,o));else if(Nr(i),Cd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(s(419)),o.stack="",o.digest=_,Yo({value:o,source:null,stack:null}),i=Kf(e,i,a)}else if(Ce||ba(e,i,a,!1),_=(a&e.childLanes)!==0,Ce||_){if(_=se,_!==null&&(o=Ro(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Cs(e,o),dn(_,e,o),qf;Id(E)||mc(),i=Kf(e,i,a)}else Id(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,oe=Un(E.nextSibling),Ge=i,Ht=!0,Ar=null,xn=!1,e!==null&&Kp(i,e),i=Yf(i,o.children),i.flags|=4096);return i}return h?(Dr(),E=o.fallback,h=i.mode,C=e.child,z=C.sibling,o=zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=zi(z,E):(E=Ns(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,sl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(C=Re._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=tg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Qf(e,_,a),i.memoizedState=Gf,sl(e.child,o)):(Nr(i),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Yf(e,i){return i=sc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function sc(e,i){return e=_n(22,e,null,i),e.lanes=0,e}function Kf(e,i,a){return Us(i,e.child,null,a),e=Yf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function dy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),uf(e.return,i,a)}function Xf(e,i,a,o,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function my(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=_e.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,tt(_e,_),Qe(e,i,o,a),o=Ht?Qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,a,i);else if(e.tag===19)dy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xf(i,!0,a,null,d,o);break;case"together":Xf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Vr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ba(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=zi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function $f(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function eA(e,i,a){switch(i.tag){case 3:de(i,i.stateNode.containerInfo),wr(i,Re,e.memoizedState.cache),Ds();break;case 27:case 5:Sn(i);break;case 4:de(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?fy(e,i,a):(Nr(i),e=Fi(e,i,a),e!==null?e.sibling:null);Nr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ba(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return my(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(_e,_e.current),o)break;return null;case 22:return i.lanes=0,ay(e,i,a,i.pendingProps);case 24:wr(i,Re,e.memoizedState.cache)}return Fi(e,i,a)}function py(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!$f(e,a)&&(i.flags&128)===0)return Ce=!1,eA(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,Ht&&(i.flags&1048576)!==0&&Yp(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=xs(i.elementType),i.type=e,typeof e=="function")tf(e)?(o=Ps(e,o),i.tag=1,i=cy(null,i,e,o,a)):(i.tag=0,i=Hf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Mt){i.tag=11,i=iy(null,i,e,o,a);break t}else if(h===N){i.tag=14,i=ry(null,i,e,o,a);break t}}throw i=Xt(e)||e,Error(s(306,i,""))}}return i;case 0:return Hf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ps(o,i.pendingProps),cy(e,i,o,h,a);case 3:t:{if(de(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,gf(e,i),tl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,wr(i,Re,o),o!==d.cache&&cf(i,[Re],a,!0),Wo(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=hy(e,i,o,a);break t}else if(o!==h){h=On(Error(s(424)),i),Yo(h),i=hy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Un(e.firstChild),Ge=i,Ht=!0,Ar=null,xn=!0,a=ag(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ds(),o===h){i=Fi(e,i,a);break t}Qe(e,i,o,a)}i=i.child}return i;case 26:return rc(e,i),e===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,o=Tc(Rt.current).createElement(a),o[Ae]=i,o[Le]=e,Ye(o,a,e),Se(o),i.stateNode=o):i.memoizedState=R_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Sn(i),e===null&&Ht&&(o=i.stateNode=A_(i.type,i.pendingProps,Rt.current),Ge=i,xn=!0,h=oe,Pr(i.type)?(Nd=h,oe=Un(o.firstChild)):oe=h),Qe(e,i,i.pendingProps.children,a),rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=o=oe)&&(o=OA(o,i.type,i.pendingProps,xn),o!==null?(i.stateNode=o,Ge=i,oe=Un(o.firstChild),xn=!1,h=!0):h=!1),h||Sr(i)),Sn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,Sd(h,d)?o=null:_!==null&&Sd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(e,i,Qb,null,null,a),El._currentValue=h),rc(e,i),Qe(e,i,o,a),i.child;case 6:return e===null&&Ht&&((e=a=oe)&&(a=MA(a,i.pendingProps,xn),a!==null?(i.stateNode=a,Ge=i,oe=null,e=!0):e=!1),e||Sr(i)),null;case 13:return fy(e,i,a);case 4:return de(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Us(i,null,o,a):Qe(e,i,o,a),i.child;case 11:return iy(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,wr(i,i.type,o.value),Qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ms(i),h=Fe(h),o=o(h),i.flags|=1,Qe(e,i,o,a),i.child;case 14:return ry(e,i,i.type,i.pendingProps,a);case 15:return sy(e,i,i.type,i.pendingProps,a);case 19:return my(e,i,a);case 31:return tA(e,i,a);case 22:return ay(e,i,a,i.pendingProps);case 24:return Ms(i),o=Fe(Re),e===null?(h=df(),h===null&&(h=se,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},pf(i),wr(i,Re,h)):((e.lanes&a)!==0&&(gf(e,i),tl(i,null,null,a),Wo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,Re,o)):(o=d.cache,wr(i,Re,o),o!==h.cache&&cf(i,[Re],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(e){e.flags|=4}function Zf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw ks=Hu,mf}else e.flags&=-16777217}function gy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O_(i))if(qy())e.flags|=8192;else throw ks=Hu,mf}function ac(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?fu():536870912,e.lanes|=i,xa|=i)}function al(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function nA(e,i,a){var o=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),qi(Re),Zt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(i)?Qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),le(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Qi(i),d!==null?(le(i),gy(i,d)):(le(i),Zf(i,h,null,o,a))):d?d!==e.memoizedState?(Qi(i),le(i),gy(i,d)):(le(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qi(i),le(i),Zf(i,h,e,o,a)),null;case 27:if(ri(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Qi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return le(i),null}e=nt.current,Ta(i)?Xp(i):(e=A_(h,o,a),i.stateNode=e,Qi(i))}return le(i),null;case 5:if(ri(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Qi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return le(i),null}if(d=nt.current,Ta(i))Xp(i);else{var _=Tc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Ae]=i,d[Le]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ye(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qi(i)}}return le(i),Zf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Qi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Rt.current,Ta(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||f_(e.nodeValue,a)),e||Sr(i,!0)}else e=Tc(e).createTextNode(o),e[Ae]=i,i.stateNode=e}return le(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),e=!1}else a=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return le(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ac(i,i.updateQueue),le(i),null);case 4:return Zt(),e===null&&vd(i.stateNode.containerInfo),le(i),null;case 10:return qi(i.type),le(i),null;case 19:if(F(_e),o=i.memoizedState,o===null)return le(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)al(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Yu(e),d!==null){for(i.flags|=128,al(o,!1),e=d.updateQueue,i.updateQueue=e,ac(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Gp(a,e),a=a.sibling;return tt(_e,_e.current&1|2),Ht&&Bi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&nn()>hc&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304)}else{if(!h)if(e=Yu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ac(i,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ht)return le(i),null}else 2*nn()-o.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=_e.current,tt(_e,h?a&1|2:a&1),Ht&&Bi(i,o.treeForkCount),e):(le(i),null);case 22:case 23:return En(i),Ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),a=i.updateQueue,a!==null&&ac(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&F(Vs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(Re),le(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iA(e,i){switch(sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return qi(Re),Zt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ri(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Ds()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ds()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return F(_e),null;case 4:return Zt(),null;case 10:return qi(i.type),null;case 22:case 23:return En(i),Ef(),e!==null&&F(Vs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return qi(Re),null;case 25:return null;default:return null}}function yy(e,i){switch(sf(i),i.tag){case 3:qi(Re),Zt();break;case 26:case 27:case 5:ri(i);break;case 4:Zt();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:F(_e);break;case 10:qi(i.type);break;case 22:case 23:En(i),Ef(),e!==null&&F(Vs);break;case 24:qi(Re)}}function ol(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){te(i,i.return,E)}}function Or(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a,z=E;try{z()}catch(Q){te(h,C,Q)}}}o=o.next}while(o!==d)}}catch(Q){te(i,i.return,Q)}}function _y(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{lg(i,a)}catch(o){te(e,e.return,o)}}}function vy(e,i,a){a.props=Ps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){te(e,i,o)}}function ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){te(e,i,h)}}function wi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){te(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,i,h)}else a.current=null}function Ey(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function Jf(e,i,a){try{var o=e.stateNode;wA(o,e.type,a,i),o[Le]=i}catch(h){te(e,e.return,h)}}function Ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(td(e,i,a),e=e.sibling;e!==null;)td(e,i,a),e=e.sibling}function oc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oc(e,i,a),e=e.sibling;e!==null;)oc(e,i,a),e=e.sibling}function by(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,o,a),i[Ae]=e,i[Le]=a}catch(d){te(e,e.return,d)}}var Yi=!1,Ne=!1,ed=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,ze=null;function rA(e,i){if(e=e.containerInfo,bd=Cc,e=kp(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,C=-1,z=0,Q=0,K=e,B=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=_+h),K!==d||o!==0&&K.nodeType!==3||(C=_+o),K.nodeType===3&&(_+=K.nodeValue.length),(q=K.firstChild)!==null;)B=K,K=q;for(;;){if(K===e)break e;if(B===a&&++z===h&&(E=_),B===d&&++Q===o&&(C=_),(q=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Cc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var lt=Ps(a.type,h);e=o.getSnapshotBeforeUpdate(lt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){te(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Rd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function Sy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),o&4&&ol(5,a);break;case 1:if(Xi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){te(a,a.return,_)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){te(a,a.return,_)}}o&64&&_y(a),o&512&&ll(a,a.return);break;case 3:if(Xi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{lg(e,i)}catch(_){te(a,a.return,_)}}break;case 27:i===null&&o&4&&by(a);case 26:case 5:Xi(e,a),i===null&&o&4&&Ey(a),o&512&&ll(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),o&4&&Iy(e,a);break;case 13:Xi(e,a),o&4&&Cy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dA.bind(null,a),VA(e,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){i=i!==null&&i.memoizedState!==null||Ne,h=Yi;var d=Ne;Yi=o,(Ne=i)&&!d?$i(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Yi=h,Ne=d}break;case 30:break;default:Xi(e,a)}}function wy(e){var i=e.alternate;i!==null&&(e.alternate=null,wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ra(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,un=!1;function Ki(e,i,a){for(a=a.child;a!==null;)Ry(e,i,a),a=a.sibling}function Ry(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ne||wi(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||wi(a,i);var o=he,h=un;Pr(a.type)&&(he=a.stateNode,un=!1),Ki(e,i,a),yl(a.stateNode),he=o,un=h;break;case 5:Ne||wi(a,i);case 6:if(o=he,h=un,he=null,Ki(e,i,a),he=o,un=h,he!==null)if(un)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(d){te(a,i,d)}else try{he.removeChild(a.stateNode)}catch(d){te(a,i,d)}break;case 18:he!==null&&(un?(e=he,__(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qa(e)):__(he,a.stateNode));break;case 4:o=he,h=un,he=a.stateNode.containerInfo,un=!0,Ki(e,i,a),he=o,un=h;break;case 0:case 11:case 14:case 15:Or(2,a,i),Ne||Or(4,a,i),Ki(e,i,a);break;case 1:Ne||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&vy(a,i,o)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:Ne=(o=Ne)||a.memoizedState!==null,Ki(e,i,a),Ne=o;break;default:Ki(e,i,a)}}function Iy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(a){te(i,i.return,a)}}}function Cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(a){te(i,i.return,a)}}function sA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ay),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ay),i;default:throw Error(s(435,e.tag))}}function lc(e,i){var a=sA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=mA.bind(null,e,o);o.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){he=E.stateNode,un=!1;break t}break;case 5:he=E.stateNode,un=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(he===null)throw Error(s(160));Ry(d,_,h),he=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ny(i,e),i=i.sibling}var Jn=null;function Ny(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(Or(3,e,e.return),ol(3,e),Or(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ye(d,o,a),d[Ae]=e,Se(d),o=d;break t;case"link":var _=N_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=h.createElement(o),Ye(d,o,a),h.head.appendChild(d);break;case"meta":if(_=N_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=h.createElement(o),Ye(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ae]=e,Se(d),o=d}e.stateNode=o}else D_(h,e.type,e.stateNode);else e.stateNode=C_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?D_(h,e.type,e.stateNode):C_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),a!==null&&o&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(Ne||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(lt){te(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){te(e,e.return,lt)}}break;case 3:if(Sc=null,h=Jn,Jn=bc(i.containerInfo),cn(i,e),Jn=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(i.containerInfo)}catch(lt){te(e,e.return,lt)}ed&&(ed=!1,Dy(e));break;case 4:o=Jn,Jn=bc(e.stateNode.containerInfo),cn(i,e),hn(e),Jn=o;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Yi,Q=Ne;if(Yi=z||h,Ne=Q||C,cn(i,e),Ne=Q,Yi=z,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Yi||Ne||zs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){te(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){te(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var q=C.stateNode;h?v_(q,!0):v_(C.stateNode,!1)}catch(lt){te(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Ty(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(e);oc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=Wf(e);oc(e,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Wf(e);td(e,z,C);break;default:throw Error(s(161))}}catch(Q){te(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Xi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sy(e,i.alternate,i),i=i.sibling}function zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),zs(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&vy(i,i.return,a),zs(i);break;case 27:yl(i.stateNode);case 26:case 5:wi(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}e=e.sibling}}function $i(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),ol(4,d);break;case 1:if($i(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)og(C[h],E)}catch(z){te(o,o.return,z)}}a&&_&64&&_y(d),ll(d,d.return);break;case 27:by(d);case 26:case 5:$i(h,d,a),a&&o===null&&_&4&&Ey(d),ll(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&_&4&&Iy(h,d);break;case 13:$i(h,d,a),a&&_&4&&Cy(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),ll(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function id(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e))}function Wn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Oy(e,i,a,o),i=i.sibling}function Oy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,o),h&2048&&ol(9,i);break;case 1:Wn(e,i,a,o);break;case 3:Wn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){Wn(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){te(i,i.return,C)}}else Wn(e,i,a,o);break;case 31:Wn(e,i,a,o);break;case 13:Wn(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(e,i,a,o):ul(e,i):d._visibility&2?Wn(e,i,a,o):(d._visibility|=2,Oa(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(_,i);break;case 24:Wn(e,i,a,o),h&2048&&id(i.alternate,i);break;default:Wn(e,i,a,o)}}function Oa(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=a,C=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:Oa(d,_,E,C,h),ol(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Oa(d,_,E,C,h):ul(d,_):(Q._visibility|=2,Oa(d,_,E,C,h)),h&&z&2048&&nd(_.alternate,_);break;case 24:Oa(d,_,E,C,h),h&&z&2048&&id(_.alternate,_);break;default:Oa(d,_,E,C,h)}i=i.sibling}}function ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&nd(o.alternate,o);break;case 24:ul(a,o),h&2048&&id(o.alternate,o);break;default:ul(a,o)}i=i.sibling}}var cl=8192;function Ma(e,i,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)My(e,i,a),e=e.sibling}function My(e,i,a){switch(e.tag){case 26:Ma(e,i,a),e.flags&cl&&e.memoizedState!==null&&FA(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,i,a);break;case 3:case 4:var o=Jn;Jn=bc(e.stateNode.containerInfo),Ma(e,i,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,Ma(e,i,a),cl=o):Ma(e,i,a));break;default:Ma(e,i,a)}}function Vy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function hl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,ky(o,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Or(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,uc(e)):hl(e);break;default:hl(e)}}function uc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,ky(o,e)}Vy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Or(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uc(i));break;default:uc(i)}e=e.sibling}}function ky(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Or(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=e;ze!==null;){o=ze;var h=o.sibling,d=o.return;if(wy(o),o===a){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var aA={getCacheForType:function(e){var i=Fe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(Re).controller.signal}},oA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,xt=null,Ut=0,Wt=0,Tn=null,Mr=!1,Va=!1,rd=!1,Zi=0,pe=0,Vr=0,Bs=0,sd=0,bn=0,xa=0,fl=null,fn=null,ad=!1,cc=0,Uy=0,hc=1/0,fc=null,xr=null,xe=0,kr=null,ka=null,Ji=0,od=0,ld=null,Ly=null,dl=0,ud=null;function An(){return(Kt&2)!==0&&Ut!==0?Ut&-Ut:U.T!==null?pd():du()}function Py(){if(bn===0)if((Ut&536870912)===0||Ht){var e=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function dn(e,i,a){(e===se&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Ur(e,Ut,bn,!1)),ms(e,a),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(Bs|=a),pe===4&&Ur(e,Ut,bn,!1)),Ri(e))}function zy(e,i,a){if((Kt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=o?cA(e,i):hd(e,i,!0),d=o;do{if(h===0){Va&&!o&&Ur(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!lA(a)){h=hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=fl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ua(E,_).flags|=256),_=hd(E,_,!1),_!==2){if(rd&&!C){E.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ua(e,0),Ur(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(o,i,bn,!Mr);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=cc+300-nn(),10<h)){if(Ur(o,i,bn,!Mr),li(o,0,!0)!==0)break t;Ji=i,o.timeoutHandle=g_(By.bind(null,o,a,fn,fc,ad,i,bn,Bs,xa,Mr,d,"Throttled",-0,0),h);break t}By(o,a,fn,fc,ad,i,bn,Bs,xa,Mr,d,null,-0,0)}}break}while(!0);Ri(e)}function By(e,i,a,o,h,d,_,E,C,z,Q,K,B,q){if(e.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},My(i,d,K);var lt=(d&62914560)===d?cc-nn():(d&4194048)===d?Uy-nn():0;if(lt=QA(K,lt),lt!==null){Ji=d,e.cancelPendingCommit=lt(Ky.bind(null,e,i,d,a,o,h,_,E,C,Q,K,null,B,q)),Ur(e,d,_,!z);return}}Ky(e,i,d,a,o,h,_,E,C)}function lA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(e,i,a,o){i&=~sd,i&=~Bs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-ge(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&ps(e,a,i)}function dc(){return(Kt&6)===0?(ml(0),!1):!0}function cd(){if(xt!==null){if(Wt===0)var e=xt.return;else e=xt,ji=Os=null,Rf(e),Ra=null,$o=0,e=xt;for(;e!==null;)yy(e.alternate,e),e=e.return;xt=null}}function Ua(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,CA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,cd(),se=e,xt=a=zi(e.current,null),Ut=i,Wt=0,Tn=null,Mr=!1,Va=Hn(e,i),rd=!1,xa=bn=sd=Bs=Vr=pe=0,fn=fl=null,ad=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-ge(o),d=1<<h;i|=e[h],o&=~d}return Zi=i,xu(),a}function jy(e,i){Dt=null,U.H=rl,i===wa||i===qu?(i=ig(),Wt=3):i===mf?(i=ig(),Wt=4):Wt=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,xt===null&&(pe=1,nc(e,On(i,e.current)))}function qy(){var e=vn.current;return e===null?!0:(Ut&4194048)===Ut?kn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===kn:!1}function Hy(){var e=U.H;return U.H=rl,e===null?rl:e}function Gy(){var e=U.A;return U.A=aA,e}function mc(){pe=4,Mr||(Ut&4194048)!==Ut&&vn.current!==null||(Va=!0),(Vr&134217727)===0&&(Bs&134217727)===0||se===null||Ur(se,Ut,bn,!1)}function hd(e,i,a){var o=Kt;Kt|=2;var h=Hy(),d=Gy();(se!==e||Ut!==i)&&(fc=null,Ua(e,i)),i=!1;var _=pe;t:do try{if(Wt!==0&&xt!==null){var E=xt,C=Tn;switch(Wt){case 8:cd(),_=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var z=Wt;if(Wt=0,Tn=null,La(e,E,C,z),a&&Va){_=0;break t}break;default:z=Wt,Wt=0,Tn=null,La(e,E,C,z)}}uA(),_=pe;break}catch(Q){jy(e,Q)}while(!0);return i&&e.shellSuspendCounter++,ji=Os=null,Kt=o,U.H=h,U.A=d,xt===null&&(se=null,Ut=0,xu()),_}function uA(){for(;xt!==null;)Fy(xt)}function cA(e,i){var a=Kt;Kt|=2;var o=Hy(),h=Gy();se!==e||Ut!==i?(fc=null,hc=nn()+500,Ua(e,i)):Va=Hn(e,i);t:do try{if(Wt!==0&&xt!==null){i=xt;var d=Tn;e:switch(Wt){case 1:Wt=0,Tn=null,La(e,i,d,1);break;case 2:case 9:if(eg(d)){Wt=0,Tn=null,Qy(i);break}i=function(){Wt!==2&&Wt!==9||se!==e||(Wt=7),Ri(e)},d.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:eg(d)?(Wt=0,Tn=null,Qy(i)):(Wt=0,Tn=null,La(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var E=xt;if(_?O_(_):E.stateNode.complete){Wt=0,Tn=null;var C=E.sibling;if(C!==null)xt=C;else{var z=E.return;z!==null?(xt=z,pc(z)):xt=null}break e}}Wt=0,Tn=null,La(e,i,d,5);break;case 6:Wt=0,Tn=null,La(e,i,d,6);break;case 8:cd(),pe=6;break t;default:throw Error(s(462))}}hA();break}catch(Q){jy(e,Q)}while(!0);return ji=Os=null,U.H=o,U.A=h,Kt=a,xt!==null?0:(se=null,Ut=0,xu(),pe)}function hA(){for(;xt!==null&&!Bh();)Fy(xt)}function Fy(e){var i=py(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?pc(e):xt=i}function Qy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=uy(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=uy(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Rf(i);default:yy(a,i),i=xt=Gp(i,Zi),i=py(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?pc(e):xt=i}function La(e,i,a,o){ji=Os=null,Rf(i),Ra=null,$o=0;var h=i.return;try{if(Wb(e,h,i,a,Ut)){pe=1,nc(e,On(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;pe=1,nc(e,On(a,e.current)),xt=null;return}i.flags&32768?(Ht||o===1?e=!0:Va||(Ut&536870912)!==0?e=!1:(Mr=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yy(i,e)):pc(i)}function pc(e){var i=e;do{if((i.flags&32768)!==0){Yy(i,Mr);return}e=i.return;var a=nA(i.alternate,i,Zi);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);pe===0&&(pe=5)}function Yy(e,i){do{var a=iA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);pe=6,xt=null}function Ky(e,i,a,o,h,d,_,E,C){e.cancelPendingCommit=null;do gc();while(xe!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Jh,Hh(e,a,d,_,E,C),e===se&&(xt=se=null,Ut=0),ka=i,kr=e,Ji=a,od=d,ld=h,Ly=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pA(fr,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=X.p,X.p=2,_=Kt,Kt|=4;try{rA(e,i,a)}finally{Kt=_,X.p=h,U.T=o}}xe=1,Xy(),$y(),Zy()}}function Xy(){if(xe===1){xe=0;var e=kr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=X.p;X.p=2;var h=Kt;Kt|=4;try{Ny(i,e);var d=Ad,_=kp(e.containerInfo),E=d.focusedElem,C=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&xp(E.ownerDocument.documentElement,E)){if(C!==null&&Yh(E)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var q=B.getSelection(),lt=E.textContent.length,vt=Math.min(C.start,lt),re=C.end===void 0?vt:Math.min(C.end,lt);!q.extend&&vt>re&&(_=re,re=vt,vt=_);var k=Vp(E,vt),O=Vp(E,re);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),vt>re?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Cc=!!bd,Ad=bd=null}finally{Kt=h,X.p=o,U.T=a}}e.current=i,xe=2}}function $y(){if(xe===2){xe=0;var e=kr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=X.p;X.p=2;var h=Kt;Kt|=4;try{Sy(e,i.alternate,i)}finally{Kt=h,X.p=o,U.T=a}}xe=3}}function Zy(){if(xe===4||xe===3){xe=0,au();var e=kr,i=ka,a=Ji,o=Ly;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,ka=kr=null,Jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xr=null),ki(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,h=X.p,X.p=2,U.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];d(E.value,{componentStack:E.stack})}}finally{U.T=i,X.p=h}}(Ji&3)!==0&&gc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ud?dl++:(dl=0,ud=e):dl=0,ml(0)}}function Jy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ko(i)))}function gc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(xe!==5)return!1;var e=kr,i=od;od=0;var a=ki(Ji),o=U.T,h=X.p;try{X.p=32>a?32:a,U.T=null,a=ld,ld=null;var d=kr,_=Ji;if(xe=0,ka=kr=null,Ji=0,(Kt&6)!==0)throw Error(s(331));var E=Kt;if(Kt|=4,xy(d.current),Oy(d,d.current,_,a),Kt=E,ml(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{X.p=h,U.T=o,Jy(e,i)}}function t_(e,i,a){i=On(a,i),i=jf(e.stateNode,i,2),e=Cr(e,i,2),e!==null&&(ms(e,2),Ri(e))}function te(e,i,a){if(e.tag===3)t_(e,e,a);else for(;i!==null;){if(i.tag===3){t_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xr===null||!xr.has(o))){e=On(a,e),a=ey(2),o=Cr(i,a,2),o!==null&&(ny(a,o,i,e),ms(o,2),Ri(o));break}}i=i.return}}function fd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new oA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(rd=!0,h.add(a),e=fA.bind(null,e,i,a),i.then(e,e))}function fA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Ut&a)===a&&(pe===4||pe===3&&(Ut&62914560)===Ut&&300>nn()-cc?(Kt&2)===0&&Ua(e,0):sd|=a,xa===Ut&&(xa=0)),Ri(e)}function e_(e,i){i===0&&(i=fu()),e=Cs(e,i),e!==null&&(ms(e,i),Ri(e))}function dA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),e_(e,a)}function mA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),e_(e,a)}function pA(e,i){return Ve(e,i)}var yc=null,Pa=null,dd=!1,_c=!1,md=!1,Lr=0;function Ri(e){e!==Pa&&e.next===null&&(Pa===null?yc=Pa=e:Pa=Pa.next=e),_c=!0,dd||(dd=!0,yA())}function ml(e,i){if(!md&&_c){md=!0;do for(var a=!1,o=yc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,s_(o,d))}else d=Ut,d=li(o,o===se?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Hn(o,d)||(a=!0,s_(o,d));o=o.next}while(a);md=!1}}function gA(){n_()}function n_(){_c=dd=!1;var e=0;Lr!==0&&IA()&&(e=Lr);for(var i=nn(),a=null,o=yc;o!==null;){var h=o.next,d=i_(o,i);d===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(Pa=a)):(a=o,(e!==0||(d&3)!==0)&&(_c=!0)),o=h}xe!==0&&xe!==5||ml(e),Lr!==0&&(Lr=0)}function i_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ge(d),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=qh(E,i)):C<=i&&(e.expiredLanes|=E),d&=~E}if(i=se,a=Ut,a=li(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&hr(o),ki(a)){case 2:case 8:a=So;break;case 32:a=fr;break;case 268435456:a=ou;break;default:a=fr}return o=r_.bind(null,e),a=Ve(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&hr(o),e.callbackPriority=2,e.callbackNode=null,2}function r_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gc()&&e.callbackNode!==a)return null;var o=Ut;return o=li(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zy(e,o,i),i_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?r_.bind(null,e):null)}function s_(e,i){if(gc())return null;zy(e,i,!0)}function yA(){NA(function(){(Kt&6)!==0?Ve(Ao,gA):n_()})}function pd(){if(Lr===0){var e=Aa;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Lr=e}return Lr}function a_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function o_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function _A(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=a_((h[Le]||null).action),_=o.submitter;_&&(i=(i=_[Le]||null)?a_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Lr!==0){var C=_?o_(h,_):new FormData(h);kf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=_?o_(h,_):new FormData(h),kf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var gd=0;gd<Zh.length;gd++){var yd=Zh[gd],vA=yd.toLowerCase(),EA=yd[0].toUpperCase()+yd.slice(1);Zn(vA,"on"+EA)}Zn(Pp,"onAnimationEnd"),Zn(zp,"onAnimationIteration"),Zn(Bp,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Ub,"onTransitionRun"),Zn(Lb,"onTransitionStart"),Zn(Pb,"onTransitionCancel"),Zn(jp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function l_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(Q){Vu(Q)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,z=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(Q){Vu(Q)}h.currentTarget=null,d=C}}}}function kt(e,i){var a=i[ia];a===void 0&&(a=i[ia]=new Set);var o=e+"__bubble";a.has(o)||(u_(i,e,2,!1),a.add(o))}function _d(e,i,a){var o=0;i&&(o|=4),u_(a,e,o,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[vc]){e[vc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(TA.has(a)||_d(a,!1,e),_d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[vc]||(i[vc]=!0,_d("selectionchange",!1,i))}}function u_(e,i,a,o){switch(P_(i)){case 2:var h=XA;break;case 8:h=$A;break;default:h=xd}a=h.bind(null,i,a,e),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=fi(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue t}E=E.parentNode}}o=o.return}_r(function(){var z=d,Q=In(a),K=[];t:{var B=qp.get(e);if(B!==void 0){var q=vi,lt=e;switch(e){case"keypress":if(bs(a)===0)break t;case"keydown":case"keyup":q=Du;break;case"focusin":lt="focus",q=Ss;break;case"focusout":lt="blur",q=Ss;break;case"beforeblur":case"afterblur":q=Ss;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Pp:case zp:case Bp:q=Au;break;case jp:q=b;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Pi;break;case"toggle":case"beforetoggle":q=Nt}var vt=(i&4)!==0,re=!vt&&(e==="scroll"||e==="scrollend"),k=vt?B!==null?B+"Capture":null:B;vt=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Yn(O,k),Y!=null&&vt.push(gl(O,Y,P))),re)break;O=O.return}0<vt.length&&(B=new q(B,lt,null,a,Q),K.push({event:B,listeners:vt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==Uo&&(lt=a.relatedTarget||a.fromElement)&&(fi(lt)||lt[ci]))break t;if((q||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,q?(lt=a.relatedTarget||a.toElement,q=z,lt=lt?fi(lt):null,lt!==null&&(re=u(lt),vt=lt.tag,lt!==re||vt!==5&&vt!==27&&vt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(vt=Bo,Y="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Pi,Y="onPointerLeave",k="onPointerEnter",O="pointer"),re=q==null?B:pn(q),P=lt==null?B:pn(lt),B=new vt(Y,O+"leave",q,a,Q),B.target=re,B.relatedTarget=P,Y=null,fi(Q)===z&&(vt=new vt(k,O+"enter",lt,a,Q),vt.target=P,vt.relatedTarget=re,Y=vt),re=Y,q&&lt)e:{for(vt=bA,k=q,O=lt,P=0,Y=k;Y;Y=vt(Y))P++;Y=0;for(var pt=O;pt;pt=vt(pt))Y++;for(;0<P-Y;)k=vt(k),P--;for(;0<Y-P;)O=vt(O),Y--;for(;P--;){if(k===O||O!==null&&k===O.alternate){vt=k;break e}k=vt(k),O=vt(O)}vt=null}else vt=null;q!==null&&c_(K,B,q,vt,!1),lt!==null&&re!==null&&c_(K,re,lt,vt,!0)}}t:{if(B=z?pn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Ft=Ip;else if(wp(B))if(Cp)Ft=Vb;else{Ft=Ob;var ht=Db}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&oa(z.elementType)&&(Ft=Ip):Ft=Mb;if(Ft&&(Ft=Ft(e,z))){Rp(K,Ft,a,Q);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Vo(B,"number",B.value)}switch(ht=z?pn(z):window,e){case"focusin":(wp(ht)||ht.contentEditable==="true")&&(pa=ht,Kh=z,Fo=null);break;case"focusout":Fo=Kh=pa=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Up(K,a,Q);break;case"selectionchange":if(kb)break;case"keydown":case"keyup":Up(K,a,Q)}var Ot;if(Yt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ma?ws(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(bi&&a.locale!=="ko"&&(ma||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ma&&(Ot=Po()):(_i=Q,Lo="value"in _i?_i.value:_i.textContent,ma=!0)),ht=Ec(z,Lt),0<ht.length&&(Lt=new Ti(Lt,e,null,a,Q),K.push({event:Lt,listeners:ht}),Ot?Lt.data=Ot:(Ot=da(a),Ot!==null&&(Lt.data=Ot)))),(Ot=Nn?Rb(e,a):Ib(e,a))&&(Lt=Ec(z,"onBeforeInput"),0<Lt.length&&(ht=new Ti("onBeforeInput","beforeinput",null,a,Q),K.push({event:ht,listeners:Lt}),ht.data=Ot)),_A(K,e,z,a,Q)}l_(K,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ec(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(e,a),h!=null&&o.unshift(gl(e,h,d)),h=Yn(e,i),h!=null&&o.push(gl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function bA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Yn(a,d),z!=null&&_.unshift(gl(a,z,C))):h||(z=Yn(a,d),z!=null&&_.push(gl(a,z,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var AA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(AA,`
`).replace(SA,"")}function f_(e,i){return i=h_(i),h_(e)===i}function ie(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":ko(e,o,d);break;case"data":if(i!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ie(e,i,"name",h.name,h,null),ie(e,i,"formEncType",h.formEncType,h,null),ie(e,i,"formMethod",h.formMethod,h,null),ie(e,i,"formTarget",h.formTarget,h,null)):(ie(e,i,"encType",h.encType,h,null),ie(e,i,"method",h.method,h,null),ie(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,sa(e,a,o))}}function Td(e,i,a,o,h,d){switch(a){case"style":ko(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):sa(e,a,o)}}}function Ye(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ie(e,i,d,_,a,null)}}h&&ie(e,i,"srcSet",a.srcSet,a,null),o&&ie(e,i,"src",a.src,a,null);return;case"input":kt("invalid",e);var E=d=_=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":_=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:ie(e,i,o,Q,a,null)}}yu(e,d,E,C,z,_,h,!1);return;case"select":kt("invalid",e),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:ie(e,i,h,E,a,null)}i=d,a=_,e.multiple=!!o,i!=null?mr(e,!!o,i,!1):a!=null&&mr(e,!!o,a,!0);return;case"textarea":kt("invalid",e),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ie(e,i,_,E,a,null)}pr(e,o,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ie(e,i,C,o,a,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)kt(pl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ie(e,i,z,o,a,null)}return;default:if(oa(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Td(e,i,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ie(e,i,E,o,a,null))}function wA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,C=null,z=null,Q=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(q)||ie(e,i,q,null,o,K)}}for(var B in o){var q=o[B];if(K=a[B],o.hasOwnProperty(B)&&(q!=null||K!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":_=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==K&&ie(e,i,B,q,o,K)}}aa(e,_,E,C,z,Q,d,h);return;case"select":q=_=E=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(d)||ie(e,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==C&&ie(e,i,h,d,o,C)}i=E,a=_,o=q,B!=null?mr(e,!!a,B,!1):!!o!=!!a&&(i!=null?mr(e,!!a,i,!0):mr(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,i,E,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ie(e,i,_,h,o,d)}_u(e,B,q);return;case"option":for(var lt in a)if(B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:ie(e,i,lt,null,o,B)}for(C in o)if(B=o[C],q=a[C],o.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ie(e,i,C,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&ie(e,i,vt,null,o,B);for(z in o)if(B=o[z],q=a[z],o.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:ie(e,i,z,B,o,q)}return;default:if(oa(i)){for(var re in a)B=a[re],a.hasOwnProperty(re)&&B!==void 0&&!o.hasOwnProperty(re)&&Td(e,i,re,void 0,o,B);for(Q in o)B=o[Q],q=a[Q],!o.hasOwnProperty(Q)||B===q||B===void 0&&q===void 0||Td(e,i,Q,B,o,q);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ie(e,i,k,null,o,B);for(K in o)B=o[K],q=a[K],!o.hasOwnProperty(K)||B===q||B==null&&q==null||ie(e,i,K,B,o,q)}function d_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&d_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var Q=C.transferSize,K=C.initiatorType;Q&&d_(K)&&(C=C.responseEnd,_+=Q*(C<E?1:(E-z)/(C-z)))}if(--o,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bd=null,Ad=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wd=null;function IA(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(DA)}:g_;function DA(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function __(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),qa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);qa(i)}function v_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Rd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function OA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function MA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function E_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Nd=null;function T_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Un(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function A_(e,i,a){switch(i=Tc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ra(e)}var Ln=new Map,S_=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=X.d;X.d={f:xA,r:kA,D:UA,C:LA,L:PA,m:zA,X:jA,S:BA,M:qA};function xA(){var e=Wi.f(),i=dc();return e||i}function kA(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?jg(i):Wi.r(e)}var za=typeof document>"u"?null:document;function w_(e,i,a){var o=za;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ye(i,"link",e),Se(i),o.head.appendChild(i)))}}function UA(e){Wi.D(e),w_("dns-prefetch",e,null)}function LA(e,i){Wi.C(e,i),w_("preconnect",e,i)}function PA(e,i,a){Wi.L(e,i,a);var o=za;if(o&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var d=h;switch(i){case"style":d=Ba(e);break;case"script":d=ja(e)}Ln.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(_l(d))||i==="script"&&o.querySelector(vl(d))||(i=o.createElement("link"),Ye(i,"link",e),Se(i),o.head.appendChild(i)))}}function zA(e,i){Wi.m(e,i);var a=za;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(e)}if(!Ln.has(d)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}o=a.createElement("link"),Ye(o,"link",e),Se(o),a.head.appendChild(o)}}}function BA(e,i,a){Wi.S(e,i,a);var o=za;if(o&&e){var h=di(o).hoistableStyles,d=Ba(e);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(_l(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&Dd(e,a);var C=_=o.createElement("link");Se(C),Ye(C,"link",e),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function jA(e,i){Wi.X(e,i);var a=za;if(a&&e){var o=di(a).hoistableScripts,h=ja(e),d=o.get(h);d||(d=a.querySelector(vl(h)),d||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Od(e,i),d=a.createElement("script"),Se(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function qA(e,i){Wi.M(e,i);var a=za;if(a&&e){var o=di(a).hoistableScripts,h=ja(e),d=o.get(h);d||(d=a.querySelector(vl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Od(e,i),d=a.createElement("script"),Se(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function R_(e,i,a,o){var h=(h=Rt.current)?bc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=di(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var d=di(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(_l(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||HA(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=di(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ba(e){return'href="'+on(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function HA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ye(i,"link",a),Se(i),e.head.appendChild(i))}function ja(e){return'[src="'+on(e)+'"]'}function vl(e){return"script[async]"+e}function C_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,Se(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ye(o,"style",h),Ac(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ba(a.href);var d=e.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,Se(d),d;o=I_(a),(h=Ln.get(h))&&Dd(o,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var _=d;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Ye(d,"link",o),i.state.loading|=4,Ac(d,a.precedence,e),i.instance=d;case"script":return d=ja(a.src),(h=e.querySelector(vl(d)))?(i.instance=h,Se(h),h):(o=a,(h=Ln.get(d))&&(o=S({},a),Od(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ye(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ac(o,a.precedence,e));return i.instance}function Ac(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Sc=null;function N_(e,i,a){if(Sc===null){var o=new Map,h=Sc=new Map;h.set(a,o)}else h=Sc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(d):o.set(_,[d])}}return o}function D_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function GA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function FA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=wc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=i.ownerDocument||i,o=I_(o),(h=Ln.get(h))&&Dd(o,h),d=d.createElement("link"),Se(d);var _=d;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Ye(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=wc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function QA(e,i){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Md===0&&(Md=62500*RA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Md?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rc=null;function Ic(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rc=new Map,i.forEach(YA,e),Rc=null,wc.call(e))}function YA(e,i){if(!(i.state.loading&4)){var a=Rc.get(e);if(a)var o=a.get(null);else{a=new Map,Rc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:dt,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function KA(e,i,a,o,h,d,_,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function M_(e,i,a,o,h,d,_,E,C,z,Q,K){return e=new KA(e,i,a,_,C,z,Q,K,E),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),e.current=d,d.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},pf(d),e}function V_(e){return e?(e=_a,e):_a}function x_(e,i,a,o,h,d){h=V_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ir(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Cr(e,o,i),a!==null&&(dn(a,e,i),Jo(a,e,i))}function k_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vd(e,i){k_(e,i),(e=e.alternate)&&k_(e,i)}function U_(e){if(e.tag===13||e.tag===31){var i=Cs(e,67108864);i!==null&&dn(i,e,67108864),Vd(e,67108864)}}function L_(e){if(e.tag===13||e.tag===31){var i=An();i=gs(i);var a=Cs(e,i);a!==null&&dn(a,e,i),Vd(e,i)}}var Cc=!0;function XA(e,i,a,o){var h=U.T;U.T=null;var d=X.p;try{X.p=2,xd(e,i,a,o)}finally{X.p=d,U.T=h}}function $A(e,i,a,o){var h=U.T;U.T=null;var d=X.p;try{X.p=8,xd(e,i,a,o)}finally{X.p=d,U.T=h}}function xd(e,i,a,o){if(Cc){var h=kd(o);if(h===null)Ed(e,i,o,Nc,a),z_(e,o);else if(JA(h,e,i,a,o))o.stopPropagation();else if(z_(e,o),i&4&&-1<ZA.indexOf(e)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-ge(_);E.entanglements[1]|=C,_&=~C}Ri(d),(Kt&6)===0&&(hc=nn()+500,ml(0))}}break;case 31:case 13:E=Cs(d,2),E!==null&&dn(E,d,2),dc(),Vd(d,2)}if(d=kd(o),d===null&&Ed(e,i,o,Nc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ed(e,i,o,null,a)}}function kd(e){return e=In(e),Ud(e)}var Nc=null;function Ud(e){if(Nc=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Nc=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case Ao:return 2;case So:return 8;case fr:case jh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var Ld=!1,zr=null,Br=null,jr=null,Tl=new Map,bl=new Map,qr=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,i){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Al(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&U_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function JA(e,i,a,o,h){switch(i){case"focusin":return zr=Al(zr,e,i,a,o,h),!0;case"dragenter":return Br=Al(Br,e,i,a,o,h),!0;case"mouseover":return jr=Al(jr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,Al(Tl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Al(bl.get(d)||null,e,i,a,o,h)),!0}return!1}function B_(e){var i=fi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Gn(e.priority,function(){L_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Gn(e.priority,function(){L_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Uo=o,a.target.dispatchEvent(o),Uo=null}else return i=Rn(a),i!==null&&U_(i),e.blockedOn=a,!1;i.shift()}return!0}function j_(e,i,a){Dc(e)&&a.delete(i)}function WA(){Ld=!1,zr!==null&&Dc(zr)&&(zr=null),Br!==null&&Dc(Br)&&(Br=null),jr!==null&&Dc(jr)&&(jr=null),Tl.forEach(j_),bl.forEach(j_)}function Oc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WA)))}var Mc=null;function q_(e){Mc!==e&&(Mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var d=Rn(a);d!==null&&(e.splice(i,3),i-=3,kf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(e){function i(C){return Oc(C,e)}zr!==null&&Oc(zr,e),Br!==null&&Oc(Br,e),jr!==null&&Oc(jr,e),Tl.forEach(i),bl.forEach(i);for(var a=0;a<qr.length;a++){var o=qr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Le]||null;if(typeof d=="function")_||q_(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)E=_.formAction;else if(Ud(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),q_(a)}}}function H_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Vc.prototype.render=Pd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=An();x_(a,o,e,i,null,null)},Vc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;x_(e.current,2,null,e,null,null),dc(),i[ci]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=du();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,e),a===0&&B_(e)}};var G_=t.version;if(G_!=="19.2.0")throw Error(s(527,G_,"19.2.0"));X.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var tS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{qn=xc.inject(tS),qe=xc}catch{}}return wl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Zg,d=Jg,_=Wg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=M_(e,1,!1,null,null,a,o,null,h,d,_,H_),e[ci]=i.current,vd(e),new Pd(i)},wl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Zg,_=Jg,E=Wg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=M_(e,1,!0,i,a??null,o,h,C,d,_,E,H_),i.context=V_(null),a=i.current,o=An(),o=gs(o),h=Ir(o),h.callback=null,Cr(a,h,o),a=o,i.current.lanes=a,ms(i,a),Ri(i),e[ci]=i.current,vd(e),new Vc(i)},wl.version="19.2.0",wl}var tv;function cS(){if(tv)return jd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=uS(),jd.exports}var hS=cS();function fS(r=8){let t=0;for(;t<2e4;){t++;const n=dS(r);if(!n)continue;const s=pS(r,n),l=new Array(r).fill(0);for(let p=0;p<r;p++)for(let g=0;g<r;g++)l[s[p][g]]++;if(l.filter(p=>p===1).length>1)continue;if(gS(r,s,2).length===1)return{size:r,regions:s,solution:n}}throw new Error(`Failed to generate unique level after ${t} attempts`)}function dS(r){const t=[],n=Array.from({length:r},(l,u)=>u);for(let l=n.length-1;l>0;l--){const u=Math.floor(Math.random()*(l+1));[n[l],n[u]]=[n[u],n[l]]}function s(l){if(l===r)return!0;for(const u of n)if(mS(t,l,u)){if(t.push({row:l,col:u}),s(l+1))return!0;t.pop()}return!1}return s(0)?t:null}function mS(r,t,n){for(const s of r)if(s.col===n||Math.abs(s.row-t)<=1&&Math.abs(s.col-n)<=1)return!1;return!0}function pS(r,t){const n=Array(r).fill(0).map(()=>Array(r).fill(-1)),s=[];t.forEach((u,f)=>{n[u.row][u.col]=f,s.push({r:u.row,c:u.col,id:f})});const l=[...s];for(;l.length>0;){const u=Math.floor(Math.random()*l.length),{r:f,c:p,id:g}=l[u];l.splice(u,1);const y=[{r:f-1,c:p},{r:f+1,c:p},{r:f,c:p-1},{r:f,c:p+1}];for(const T of y)T.r>=0&&T.r<r&&T.c>=0&&T.c<r&&n[T.r][T.c]===-1&&(n[T.r][T.c]=g,l.push({r:T.r,c:T.c,id:g}))}for(let u=0;u<r;u++)for(let f=0;f<r;f++)if(n[u][f]===-1){const p=[{r:u-1,c:f},{r:u+1,c:f},{r:u,c:f-1},{r:u,c:f+1}].filter(g=>g.r>=0&&g.r<r&&g.c>=0&&g.c<r&&n[g.r][g.c]!==-1);p.length>0?n[u][f]=n[p[0].r][p[0].c]:n[u][f]=0}return n}function gS(r,t,n=2){const s=[],l=[],u=Array(r).fill(0).map(()=>[]);for(let y=0;y<r;y++)for(let T=0;T<r;T++)u[t[y][T]].push({r:y,c:T});const f=new Set,p=new Set;function g(y){if(!(s.length>=n)){if(y===r){s.push([...l]);return}for(let T=0;T<r;T++){const S=t[y][T];if(f.has(T)||p.has(S))continue;let M=!1;for(const G of l)if(Math.abs(G.row-y)<=1&&Math.abs(G.col-T)<=1){M=!0;break}M||(l.push({row:y,col:T}),f.add(T),p.add(S),g(y+1),p.delete(S),f.delete(T),l.pop())}}}return g(0),s}function yS(r,t,n,s){for(let f=0;f<s;f++)if(f!==n&&r[t][f].state==="QUEEN")return!1;for(let f=0;f<s;f++)if(f!==t&&r[f][n].state==="QUEEN")return!1;const l=r[t][n].regionId;for(let f=0;f<s;f++)for(let p=0;p<s;p++)if((f!==t||p!==n)&&r[f][p].regionId===l&&r[f][p].state==="QUEEN")return!1;const u=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[f,p]of u){const g=t+f,y=n+p;if(g>=0&&g<s&&y>=0&&y<s&&r[g][y].state==="QUEEN")return!1}return!0}const _S=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),ev=r=>{const t=vS(r);return t.charAt(0).toUpperCase()+t.slice(1)},PE=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),ES=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var TS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bS=Pt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...p},g)=>Pt.createElement("svg",{ref:g,...TS,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:PE("lucide",l),...!u&&!ES(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,T])=>Pt.createElement(y,T)),...Array.isArray(u)?u:[u]]));const zE=(r,t)=>{const n=Pt.forwardRef(({className:s,...l},u)=>Pt.createElement(bS,{ref:u,iconNode:t,className:PE(`lucide-${_S(ev(r))}`,`lucide-${r}`,s),...l}));return n.displayName=ev(r),n};const AS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],SS=zE("crown",AS);const wS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],RS=zE("x",wS);function BE(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(n=BE(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function IS(){for(var r,t,n=0,s="",l=arguments.length;n<l;n++)(r=arguments[n])&&(t=BE(r))&&(s&&(s+=" "),s+=t);return s}const CS=(r,t)=>{const n=new Array(r.length+t.length);for(let s=0;s<r.length;s++)n[s]=r[s];for(let s=0;s<t.length;s++)n[r.length+s]=t[s];return n},NS=(r,t)=>({classGroupId:r,validator:t}),jE=(r=new Map,t=null,n)=>({nextPart:r,validators:t,classGroupId:n}),th="-",nv=[],DS="arbitrary..",OS=r=>{const t=VS(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return MS(f);const p=f.split(th),g=p[0]===""&&p.length>1?1:0;return qE(p,g,t)},getConflictingClassGroupIds:(f,p)=>{if(p){const g=s[f],y=n[f];return g?y?CS(y,g):g:y||nv}return n[f]||nv}}},qE=(r,t,n)=>{if(r.length-t===0)return n.classGroupId;const l=r[t],u=n.nextPart.get(l);if(u){const y=qE(r,t+1,u);if(y)return y}const f=n.validators;if(f===null)return;const p=t===0?r.join(th):r.slice(t).join(th),g=f.length;for(let y=0;y<g;y++){const T=f[y];if(T.validator(p))return T.classGroupId}},MS=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=r.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?DS+s:void 0})(),VS=r=>{const{theme:t,classGroups:n}=r;return xS(n,t)},xS=(r,t)=>{const n=jE();for(const s in r){const l=r[s];Mm(l,n,s,t)}return n},Mm=(r,t,n,s)=>{const l=r.length;for(let u=0;u<l;u++){const f=r[u];kS(f,t,n,s)}},kS=(r,t,n,s)=>{if(typeof r=="string"){US(r,t,n);return}if(typeof r=="function"){LS(r,t,n,s);return}PS(r,t,n,s)},US=(r,t,n)=>{const s=r===""?t:HE(t,r);s.classGroupId=n},LS=(r,t,n,s)=>{if(zS(r)){Mm(r(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(NS(n,r))},PS=(r,t,n,s)=>{const l=Object.entries(r),u=l.length;for(let f=0;f<u;f++){const[p,g]=l[f];Mm(g,HE(t,p),n,s)}},HE=(r,t)=>{let n=r;const s=t.split(th),l=s.length;for(let u=0;u<l;u++){const f=s[u];let p=n.nextPart.get(f);p||(p=jE(),n.nextPart.set(f,p)),n=p}return n},zS=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,BS=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const l=(u,f)=>{n[u]=f,t++,t>r&&(t=0,s=n,n=Object.create(null))};return{get(u){let f=n[u];if(f!==void 0)return f;if((f=s[u])!==void 0)return l(u,f),f},set(u,f){u in n?n[u]=f:l(u,f)}}},sm="!",iv=":",jS=[],rv=(r,t,n,s,l)=>({modifiers:r,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:l}),qS=r=>{const{prefix:t,experimentalParseClassName:n}=r;let s=l=>{const u=[];let f=0,p=0,g=0,y;const T=l.length;for(let et=0;et<T;et++){const W=l[et];if(f===0&&p===0){if(W===iv){u.push(l.slice(g,et)),g=et+1;continue}if(W==="/"){y=et;continue}}W==="["?f++:W==="]"?f--:W==="("?p++:W===")"&&p--}const S=u.length===0?l:l.slice(g);let M=S,G=!1;S.endsWith(sm)?(M=S.slice(0,-1),G=!0):S.startsWith(sm)&&(M=S.slice(1),G=!0);const J=y&&y>g?y-g:void 0;return rv(u,G,M,J)};if(t){const l=t+iv,u=s;s=f=>f.startsWith(l)?u(f.slice(l.length)):rv(jS,!1,f,void 0,!0)}if(n){const l=s;s=u=>n({className:u,parseClassName:l})}return s},HS=r=>{const t=new Map;return r.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let l=[];for(let u=0;u<n.length;u++){const f=n[u],p=f[0]==="[",g=t.has(f);p||g?(l.length>0&&(l.sort(),s.push(...l),l=[]),s.push(f)):l.push(f)}return l.length>0&&(l.sort(),s.push(...l)),s}},GS=r=>({cache:BS(r.cacheSize),parseClassName:qS(r),sortModifiers:HS(r),...OS(r)}),FS=/\s+/,QS=(r,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:u}=t,f=[],p=r.trim().split(FS);let g="";for(let y=p.length-1;y>=0;y-=1){const T=p[y],{isExternal:S,modifiers:M,hasImportantModifier:G,baseClassName:J,maybePostfixModifierPosition:et}=n(T);if(S){g=T+(g.length>0?" "+g:g);continue}let W=!!et,ft=s(W?J.substring(0,et):J);if(!ft){if(!W){g=T+(g.length>0?" "+g:g);continue}if(ft=s(J),!ft){g=T+(g.length>0?" "+g:g);continue}W=!1}const Et=M.length===0?"":M.length===1?M[0]:u(M).join(":"),dt=G?Et+sm:Et,Mt=dt+ft;if(f.indexOf(Mt)>-1)continue;f.push(Mt);const qt=l(ft,W);for(let wt=0;wt<qt.length;++wt){const N=qt[wt];f.push(dt+N)}g=T+(g.length>0?" "+g:g)}return g},YS=(...r)=>{let t=0,n,s,l="";for(;t<r.length;)(n=r[t++])&&(s=GE(n))&&(l&&(l+=" "),l+=s);return l},GE=r=>{if(typeof r=="string")return r;let t,n="";for(let s=0;s<r.length;s++)r[s]&&(t=GE(r[s]))&&(n&&(n+=" "),n+=t);return n},KS=(r,...t)=>{let n,s,l,u;const f=g=>{const y=t.reduce((T,S)=>S(T),r());return n=GS(y),s=n.cache.get,l=n.cache.set,u=p,p(g)},p=g=>{const y=s(g);if(y)return y;const T=QS(g,n);return l(g,T),T};return u=f,(...g)=>u(YS(...g))},XS=[],ke=r=>{const t=n=>n[r]||XS;return t.isThemeGetter=!0,t},FE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,QE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$S=/^\d+\/\d+$/,ZS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,t1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ha=r=>$S.test(r),Vt=r=>!!r&&!Number.isNaN(Number(r)),Gr=r=>!!r&&Number.isInteger(Number(r)),Fd=r=>r.endsWith("%")&&Vt(r.slice(0,-1)),tr=r=>ZS.test(r),n1=()=>!0,i1=r=>JS.test(r)&&!WS.test(r),YE=()=>!1,r1=r=>t1.test(r),s1=r=>e1.test(r),a1=r=>!ut(r)&&!ct(r),o1=r=>uo(r,$E,YE),ut=r=>FE.test(r),js=r=>uo(r,ZE,i1),Qd=r=>uo(r,f1,Vt),sv=r=>uo(r,KE,YE),l1=r=>uo(r,XE,s1),kc=r=>uo(r,JE,r1),ct=r=>QE.test(r),Rl=r=>co(r,ZE),u1=r=>co(r,d1),av=r=>co(r,KE),c1=r=>co(r,$E),h1=r=>co(r,XE),Uc=r=>co(r,JE,!0),uo=(r,t,n)=>{const s=FE.exec(r);return s?s[1]?t(s[1]):n(s[2]):!1},co=(r,t,n=!1)=>{const s=QE.exec(r);return s?s[1]?t(s[1]):n:!1},KE=r=>r==="position"||r==="percentage",XE=r=>r==="image"||r==="url",$E=r=>r==="length"||r==="size"||r==="bg-size",ZE=r=>r==="length",f1=r=>r==="number",d1=r=>r==="family-name",JE=r=>r==="shadow",m1=()=>{const r=ke("color"),t=ke("font"),n=ke("text"),s=ke("font-weight"),l=ke("tracking"),u=ke("leading"),f=ke("breakpoint"),p=ke("container"),g=ke("spacing"),y=ke("radius"),T=ke("shadow"),S=ke("inset-shadow"),M=ke("text-shadow"),G=ke("drop-shadow"),J=ke("blur"),et=ke("perspective"),W=ke("aspect"),ft=ke("ease"),Et=ke("animate"),dt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Mt=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],qt=()=>[...Mt(),ct,ut],wt=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[ct,ut,g],w=()=>[Ha,"full","auto",...A()],V=()=>[Gr,"none","subgrid",ct,ut],D=()=>["auto",{span:["full",Gr,ct,ut]},Gr,ct,ut],x=()=>[Gr,"auto",ct,ut],R=()=>["auto","min","max","fr",ct,ut],Xt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ot=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...A()],X=()=>[Ha,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],H=()=>[r,ct,ut],mt=()=>[...Mt(),av,sv,{position:[ct,ut]}],At=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",c1,o1,{size:[ct,ut]}],F=()=>[Fd,Rl,js],tt=()=>["","none","full",y,ct,ut],nt=()=>["",Vt,Rl,js],_t=()=>["solid","dashed","dotted","double"],Rt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],yt=()=>[Vt,Fd,av,sv],de=()=>["","none",J,ct,ut],Zt=()=>["none",Vt,ct,ut],Sn=()=>["none",Vt,ct,ut],ri=()=>[Vt,ct,ut],jn=()=>[Ha,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[tr],breakpoint:[tr],color:[n1],container:[tr],"drop-shadow":[tr],ease:["in","out","in-out"],font:[a1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[tr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[tr],shadow:[tr],spacing:["px",Vt],text:[tr],"text-shadow":[tr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ha,ut,ct,W]}],container:["container"],columns:[{columns:[Vt,ut,ct,p]}],"break-after":[{"break-after":dt()}],"break-before":[{"break-before":dt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:qt()}],overflow:[{overflow:wt()}],"overflow-x":[{"overflow-x":wt()}],"overflow-y":[{"overflow-y":wt()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Gr,"auto",ct,ut]}],basis:[{basis:[Ha,"full","auto",p,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vt,Ha,"auto","initial","none",ut]}],grow:[{grow:["",Vt,ct,ut]}],shrink:[{shrink:["",Vt,ct,ut]}],order:[{order:[Gr,"first","last","none",ct,ut]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":x()}],"col-end":[{"col-end":x()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":x()}],"row-end":[{"row-end":x()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Xt(),"normal"]}],"justify-items":[{"justify-items":[...ot(),"normal"]}],"justify-self":[{"justify-self":["auto",...ot()]}],"align-content":[{content:["normal",...Xt()]}],"align-items":[{items:[...ot(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ot(),{baseline:["","last"]}]}],"place-content":[{"place-content":Xt()}],"place-items":[{"place-items":[...ot(),"baseline"]}],"place-self":[{"place-self":["auto",...ot()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[p,"screen",...X()]}],"min-w":[{"min-w":[p,"screen","none",...X()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[f]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,Rl,js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ct,Qd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fd,ut]}],"font-family":[{font:[u1,ut,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ct,ut]}],"line-clamp":[{"line-clamp":[Vt,"none",ct,Qd]}],leading:[{leading:[u,...A()]}],"list-image":[{"list-image":["none",ct,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._t(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vt,"from-font","auto",ct,js]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Vt,"auto",ct,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:mt()}],"bg-repeat":[{bg:At()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gr,ct,ut],radial:["",ct,ut],conic:[Gr,ct,ut]},h1,l1]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:tt()}],"rounded-s":[{"rounded-s":tt()}],"rounded-e":[{"rounded-e":tt()}],"rounded-t":[{"rounded-t":tt()}],"rounded-r":[{"rounded-r":tt()}],"rounded-b":[{"rounded-b":tt()}],"rounded-l":[{"rounded-l":tt()}],"rounded-ss":[{"rounded-ss":tt()}],"rounded-se":[{"rounded-se":tt()}],"rounded-ee":[{"rounded-ee":tt()}],"rounded-es":[{"rounded-es":tt()}],"rounded-tl":[{"rounded-tl":tt()}],"rounded-tr":[{"rounded-tr":tt()}],"rounded-br":[{"rounded-br":tt()}],"rounded-bl":[{"rounded-bl":tt()}],"border-w":[{border:nt()}],"border-w-x":[{"border-x":nt()}],"border-w-y":[{"border-y":nt()}],"border-w-s":[{"border-s":nt()}],"border-w-e":[{"border-e":nt()}],"border-w-t":[{"border-t":nt()}],"border-w-r":[{"border-r":nt()}],"border-w-b":[{"border-b":nt()}],"border-w-l":[{"border-l":nt()}],"divide-x":[{"divide-x":nt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":nt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._t(),"hidden","none"]}],"divide-style":[{divide:[..._t(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[..._t(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vt,ct,ut]}],"outline-w":[{outline:["",Vt,Rl,js]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",T,Uc,kc]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",S,Uc,kc]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:nt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Vt,js]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":nt()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",M,Uc,kc]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Vt,ct,ut]}],"mix-blend":[{"mix-blend":[...Rt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Rt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":yt()}],"mask-image-linear-to-pos":[{"mask-linear-to":yt()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":yt()}],"mask-image-t-to-pos":[{"mask-t-to":yt()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":yt()}],"mask-image-r-to-pos":[{"mask-r-to":yt()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":yt()}],"mask-image-b-to-pos":[{"mask-b-to":yt()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":yt()}],"mask-image-l-to-pos":[{"mask-l-to":yt()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":yt()}],"mask-image-x-to-pos":[{"mask-x-to":yt()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":yt()}],"mask-image-y-to-pos":[{"mask-y-to":yt()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ct,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":yt()}],"mask-image-radial-to-pos":[{"mask-radial-to":yt()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Mt()}],"mask-image-conic-pos":[{"mask-conic":[Vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":yt()}],"mask-image-conic-to-pos":[{"mask-conic-to":yt()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:mt()}],"mask-repeat":[{mask:At()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,ut]}],filter:[{filter:["","none",ct,ut]}],blur:[{blur:de()}],brightness:[{brightness:[Vt,ct,ut]}],contrast:[{contrast:[Vt,ct,ut]}],"drop-shadow":[{"drop-shadow":["","none",G,Uc,kc]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Vt,ct,ut]}],"hue-rotate":[{"hue-rotate":[Vt,ct,ut]}],invert:[{invert:["",Vt,ct,ut]}],saturate:[{saturate:[Vt,ct,ut]}],sepia:[{sepia:["",Vt,ct,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,ut]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Vt,ct,ut]}],"backdrop-contrast":[{"backdrop-contrast":[Vt,ct,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vt,ct,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vt,ct,ut]}],"backdrop-invert":[{"backdrop-invert":["",Vt,ct,ut]}],"backdrop-opacity":[{"backdrop-opacity":[Vt,ct,ut]}],"backdrop-saturate":[{"backdrop-saturate":[Vt,ct,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",Vt,ct,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vt,"initial",ct,ut]}],ease:[{ease:["linear","initial",ft,ct,ut]}],delay:[{delay:[Vt,ct,ut]}],animate:[{animate:["none",Et,ct,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[et,ct,ut]}],"perspective-origin":[{"perspective-origin":qt()}],rotate:[{rotate:Zt()}],"rotate-x":[{"rotate-x":Zt()}],"rotate-y":[{"rotate-y":Zt()}],"rotate-z":[{"rotate-z":Zt()}],scale:[{scale:Sn()}],"scale-x":[{"scale-x":Sn()}],"scale-y":[{"scale-y":Sn()}],"scale-z":[{"scale-z":Sn()}],"scale-3d":["scale-3d"],skew:[{skew:ri()}],"skew-x":[{"skew-x":ri()}],"skew-y":[{"skew-y":ri()}],transform:[{transform:[ct,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:qt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jn()}],"translate-x":[{"translate-x":jn()}],"translate-y":[{"translate-y":jn()}],"translate-z":[{"translate-z":jn()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,ut]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Vt,Rl,js,Qd]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},p1=KS(m1);function g1(...r){return p1(IS(r))}function y1({cell:r,onClick:t,onRightClick:n,color:s}){return st.jsxs("div",{className:g1("w-full h-full border border-gray-800/20 flex items-center justify-center cursor-pointer transition-colors duration-200 box-border",r.isError&&"bg-red-500/50 animate-pulse"),style:{backgroundColor:r.isError?void 0:s},onClick:t,onContextMenu:n,children:[r.state==="QUEEN"&&st.jsx(SS,{className:"w-3/5 h-3/5 text-white drop-shadow-md",fill:"currentColor"}),r.state==="CROSS"&&st.jsx(RS,{className:"w-2/5 h-2/5 text-black/30"})]})}function _1({isRunning:r,onTimeUpdate:t}){const[n,s]=Pt.useState(0);Pt.useEffect(()=>{let u;return r&&(u=setInterval(()=>{s(f=>{const p=f+10;return t(p),p})},10)),()=>clearInterval(u)},[r,t]),Pt.useEffect(()=>{!r&&n===0&&s(0)},[r,n]);const l=u=>{const f=Math.floor(u/6e4),p=Math.floor(u%6e4/1e3),g=Math.floor(u%1e3/10);return`${f}:${p.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`};return st.jsx("div",{className:"font-mono text-xl font-bold bg-gray-800 text-white px-4 py-2 rounded-lg",children:l(n)})}const v1=()=>{};var ov={};const WE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},E1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],p=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,p=f?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let M=(p&15)<<2|y>>6,G=y&63;g||(G=64,f||(M=64)),s.push(n[T],n[S],n[M],n[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(WE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):E1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new T1;const M=u<<2|p>>4;if(s.push(M),y!==64){const G=p<<4&240|y>>2;if(s.push(G),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class T1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b1=function(r){const t=WE(r);return tT.encodeByteArray(t,!0)},eh=function(r){return b1(r).replace(/\./g,"")},eT=function(r){try{return tT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function A1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const S1=()=>A1().__FIREBASE_DEFAULTS__,w1=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},R1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&eT(r[1]);return t&&JSON.parse(t)},Th=()=>{try{return v1()||S1()||w1()||R1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nT=r=>Th()?.emulatorHosts?.[r],I1=r=>{const t=nT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},iT=()=>Th()?.config,rT=r=>Th()?.[`_${r}`];class C1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sT(r){return(await fetch(r,{credentials:"include"})).ok}function N1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}const Ml={};function D1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?r.emulator.push(t):r.prod.push(t);return r}function O1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let lv=!1;function aT(r,t){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Ml[r]===t||Ml[r]||lv)return;Ml[r]=t;function n(M){return`__firebase__banner__${M}`}const s="__firebase__banner",u=D1().prod.length>0;function f(){const M=document.getElementById(s);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{lv=!0,f()},M}function T(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=O1(s),G=n("text"),J=document.getElementById(G)||document.createElement("span"),et=n("learnmore"),W=document.getElementById(et)||document.createElement("a"),ft=n("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;p(dt),T(W,et);const Mt=y();g(Et,ft),dt.append(Et,J,W,Mt),document.body.appendChild(dt)}u?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function V1(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function U1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L1(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function P1(){return!V1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z1(){try{return typeof indexedDB=="object"}catch{return!1}}function B1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const j1="FirebaseError";class ur extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=j1,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?q1(u,s):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new ur(l,p,s)}}function q1(r,t){return r.replace(H1,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const H1=/\{\$([^}]+)}/g;function G1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=t[l];if(uv(u)&&uv(f)){if(!Gs(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}function $l(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Il(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Cl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function F1(r,t){const n=new Q1(r,t);return n.subscribe.bind(n)}class Q1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Y1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Yd),l.error===void 0&&(l.error=Yd),l.complete===void 0&&(l.complete=Yd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Yd(){}function an(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qs="[DEFAULT]";class K1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new C1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($1(t))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qs){return this.instances.has(t)}getOptions(t=qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=qs){return this.component?this.component.multipleInstances?t:qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(r){return r===qs?void 0:r}function $1(r){return r.instantiationMode==="EAGER"}class Z1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new K1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const J1={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},W1=zt.INFO,tw={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},ew=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=tw[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vm{constructor(t){this.name=t,this._logLevel=W1,this._logHandler=ew,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?J1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const nw=(r,t)=>t.some(n=>r instanceof n);let cv,hv;function iw(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rw(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,am=new WeakMap,lT=new WeakMap,Kd=new WeakMap,xm=new WeakMap;function sw(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&oT.set(n,r)}).catch(()=>{}),xm.set(t,r),t}function aw(r){if(am.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});am.set(r,t)}let om={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||lT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ow(r){om=r(om)}function lw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Xd(this),t,...n);return lT.set(s,t.sort?t.sort():[t]),Zr(s)}:rw().includes(r)?function(...t){return r.apply(Xd(this),t),Zr(oT.get(this))}:function(...t){return Zr(r.apply(Xd(this),t))}}function uw(r){return typeof r=="function"?lw(r):(r instanceof IDBTransaction&&aw(r),nw(r,iw())?new Proxy(r,om):r)}function Zr(r){if(r instanceof IDBRequest)return sw(r);if(Kd.has(r))return Kd.get(r);const t=uw(r);return t!==r&&(Kd.set(r,t),xm.set(t,r)),t}const Xd=r=>xm.get(r);function cw(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),p=Zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Zr(f.result),g.oldVersion,g.newVersion,Zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const hw=["get","getKey","getAll","getAllKeys","count"],fw=["put","add","delete","clear"],$d=new Map;function fv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=fw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||hw.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return $d.set(t,u),u}ow(r=>({...r,get:(t,n,s)=>fv(t,n)||r.get(t,n,s),has:(t,n)=>!!fv(t,n)||r.has(t,n)}));class dw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mw(r){return r.getComponent()?.type==="VERSION"}const lm="@firebase/app",dv="0.14.6";const sr=new Vm("@firebase/app"),pw="@firebase/app-compat",gw="@firebase/analytics-compat",yw="@firebase/analytics",_w="@firebase/app-check-compat",vw="@firebase/app-check",Ew="@firebase/auth",Tw="@firebase/auth-compat",bw="@firebase/database",Aw="@firebase/data-connect",Sw="@firebase/database-compat",ww="@firebase/functions",Rw="@firebase/functions-compat",Iw="@firebase/installations",Cw="@firebase/installations-compat",Nw="@firebase/messaging",Dw="@firebase/messaging-compat",Ow="@firebase/performance",Mw="@firebase/performance-compat",Vw="@firebase/remote-config",xw="@firebase/remote-config-compat",kw="@firebase/storage",Uw="@firebase/storage-compat",Lw="@firebase/firestore",Pw="@firebase/ai",zw="@firebase/firestore-compat",Bw="firebase",jw="12.6.0";const um="[DEFAULT]",qw={[lm]:"fire-core",[pw]:"fire-core-compat",[yw]:"fire-analytics",[gw]:"fire-analytics-compat",[vw]:"fire-app-check",[_w]:"fire-app-check-compat",[Ew]:"fire-auth",[Tw]:"fire-auth-compat",[bw]:"fire-rtdb",[Aw]:"fire-data-connect",[Sw]:"fire-rtdb-compat",[ww]:"fire-fn",[Rw]:"fire-fn-compat",[Iw]:"fire-iid",[Cw]:"fire-iid-compat",[Nw]:"fire-fcm",[Dw]:"fire-fcm-compat",[Ow]:"fire-perf",[Mw]:"fire-perf-compat",[Vw]:"fire-rc",[xw]:"fire-rc-compat",[kw]:"fire-gcs",[Uw]:"fire-gcs-compat",[Lw]:"fire-fst",[zw]:"fire-fst-compat",[Pw]:"fire-vertex","fire-js":"fire-js",[Bw]:"fire-js-all"};const nh=new Map,Hw=new Map,cm=new Map;function mv(r,t){try{r.container.addComponent(t)}catch(n){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function eo(r){const t=r.name;if(cm.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,r);for(const n of nh.values())mv(n,r);for(const n of Hw.values())mv(n,r);return!0}function km(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Pn(r){return r==null?!1:r.settings!==void 0}const Gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Xl("app","Firebase",Gw);class Fw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const fo=jw;function uT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:um,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(n||(n=iT()),!n)throw Jr.create("no-options");const u=nh.get(l);if(u){if(Gs(n,u.options)&&Gs(s,u.config))return u;throw Jr.create("duplicate-app",{appName:l})}const f=new Z1(l);for(const g of cm.values())f.addComponent(g);const p=new Fw(n,s,f);return nh.set(l,p),p}function cT(r=um){const t=nh.get(r);if(!t&&r===um&&iT())return uT();if(!t)throw Jr.create("no-app",{appName:r});return t}function Wr(r,t,n){let s=qw[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(f.join(" "));return}eo(new Fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Qw="firebase-heartbeat-database",Yw=1,zl="firebase-heartbeat-store";let Zd=null;function hT(){return Zd||(Zd=cw(Qw,Yw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),Zd}async function Kw(r){try{const n=(await hT()).transaction(zl),s=await n.objectStore(zl).get(fT(r));return await n.done,s}catch(t){if(t instanceof ur)sr.warn(t.message);else{const n=Jr.create("idb-get",{originalErrorMessage:t?.message});sr.warn(n.message)}}}async function pv(r,t){try{const s=(await hT()).transaction(zl,"readwrite");await s.objectStore(zl).put(t,fT(r)),await s.done}catch(n){if(n instanceof ur)sr.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(s.message)}}}function fT(r){return`${r.name}!${r.options.appId}`}const Xw=1024,$w=30;class Zw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ww(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$w){const l=tR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gv(),{heartbeatsToSend:n,unsentEntries:s}=Jw(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return sr.warn(t),""}}}function gv(){return new Date().toISOString().substring(0,10)}function Jw(r,t=Xw){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),yv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),yv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ww{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z1()?B1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function yv(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function tR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function eR(r){eo(new Fs("platform-logger",t=>new dw(t),"PRIVATE")),eo(new Fs("heartbeat",t=>new Zw(t),"PRIVATE")),Wr(lm,dv,r),Wr(lm,dv,"esm2020"),Wr("fire-js","")}eR("");var nR="firebase",iR="12.6.0";Wr(nR,iR,"app");function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rR=dT,mT=new Xl("auth","Firebase",dT());const ih=new Vm("@firebase/auth");function sR(r,...t){ih.logLevel<=zt.WARN&&ih.warn(`Auth (${fo}): ${r}`,...t)}function Gc(r,...t){ih.logLevel<=zt.ERROR&&ih.error(`Auth (${fo}): ${r}`,...t)}function ni(r,...t){throw Um(r,...t)}function Ci(r,...t){return Um(r,...t)}function pT(r,t,n){const s={...rR(),[t]:n};return new Xl("auth","Firebase",s).create(t,{appName:r.name})}function ir(r){return pT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return mT.create(r,...t)}function Tt(r,t,...n){if(!r)throw Um(t,...n)}function er(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Gc(t),new Error(t)}function ar(r,t){r||er(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function aR(){return _v()==="http:"||_v()==="https:"}function _v(){return typeof self<"u"&&self.location?.protocol||null}function oR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aR()||k1()||"connection"in navigator)?navigator.onLine:!0}function lR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ar(n>t,"Short delay should be less than long delay!"),this.isMobile=M1()||U1()}get(){return oR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(r,t){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class gT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hR=new Zl(3e4,6e4);function us(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function cr(r,t,n,s,l={}){return yT(r,l,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=$l({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return x1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ho(r.emulatorConfig.host)&&(y.credentials="include"),gT.fetch()(await _T(r,r.config.apiHost,n,p),y)})}async function yT(r,t,n){r._canInitEmulator=!1;const s={...uR,...t};try{const l=new dR(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Lc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Lc(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pT(r,T,y);ni(r,T)}}catch(l){if(l instanceof ur)throw l;ni(r,"network-request-failed",{message:String(l)})}}async function Jl(r,t,n,s,l={}){const u=await cr(r,t,n,s,l);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function _T(r,t,n,s){const l=`${t}${n}?${s}`,u=r,f=u.config.emulator?Lm(r.config,l):`${r.config.apiScheme}://${l}`;return cR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function fR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),hR.get())})}}function Lc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ci(r,t,s);return l.customData._tokenResponse=n,l}function vv(r){return r!==void 0&&r.enterprise!==void 0}class mR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pR(r,t){return cr(r,"GET","/v2/recaptchaConfig",us(r,t))}async function gR(r,t){return cr(r,"POST","/v1/accounts:delete",t)}async function rh(r,t){return cr(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yR(r,t=!1){const n=an(r),s=await n.getIdToken(t),l=Pm(s);Tt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:s,authTime:Vl(Jd(l.auth_time)),issuedAtTime:Vl(Jd(l.iat)),expirationTime:Vl(Jd(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Jd(r){return Number(r)*1e3}function Pm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=eT(n);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ev(r){const t=Pm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function no(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ur&&_R(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function _R({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(r){const t=r.auth,n=await r.getIdToken(),s=await no(r,rh(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?vT(l.providerUserInfo):[],f=TR(r.providerData,u),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!f?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function ER(r){const t=an(r);await sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function vT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bR(r,t){const n=await yT(r,{},async()=>{const s=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await _T(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&ho(r.emulatorConfig.host)&&(g.credentials="include"),gT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AR(r,t){return cr(r,"POST","/v2/accounts:revokeToken",us(r,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=Ev(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await bR(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Xa;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return er("not implemented")}}function Fr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new vR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await no(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yR(this,t)}reload(){return ER(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await no(this,gR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:G,providerData:J,stsTokenManager:et}=n;Tt(S&&et,t,"internal-error");const W=Xa.fromJSON(this.name,et);Tt(typeof S=="string",t,"internal-error"),Fr(s,t.name),Fr(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),Fr(u,t.name),Fr(f,t.name),Fr(p,t.name),Fr(g,t.name),Fr(y,t.name),Fr(T,t.name);const ft=new ti({uid:S,auth:t,email:l,emailVerified:M,displayName:s,isAnonymous:G,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(ft.providerData=J.map(Et=>({...Et}))),g&&(ft._redirectEventId=g),ft}static async _fromIdTokenResponse(t,n,s=!1){const l=new Xa;l.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await sh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];Tt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?vT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,p=new Xa;p.updateFromIdToken(s);const g=new ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Tv=new Map;function nr(r){ar(r instanceof Function,"Expected a class definition");let t=Tv.get(r);return t?(ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Tv.set(r,t),t)}class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ET.type="NONE";const bv=ET;function Fc(r,t,n){return`firebase:${r}:${t}:${n}`}class $a{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Fc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await rh(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new $a(nr(bv),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||nr(bv);const f=Fc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const T=await y._get(f);if(T){let S;if(typeof T=="string"){const M=await rh(t,{idToken:T}).catch(()=>{});if(!M)break;S=await ti._fromGetAccountInfoResponse(t,M,T)}else S=ti._fromJSON(t,T);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $a(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,t,s))}}function Av(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ST(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RT(t))return"Blackberry";if(IT(t))return"Webos";if(bT(t))return"Safari";if((t.includes("chrome/")||AT(t))&&!t.includes("edge/"))return"Chrome";if(wT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function TT(r=en()){return/firefox\//i.test(r)}function bT(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AT(r=en()){return/crios\//i.test(r)}function ST(r=en()){return/iemobile/i.test(r)}function wT(r=en()){return/android/i.test(r)}function RT(r=en()){return/blackberry/i.test(r)}function IT(r=en()){return/webos/i.test(r)}function zm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SR(r=en()){return zm(r)&&!!window.navigator?.standalone}function wR(){return L1()&&document.documentMode===10}function CT(r=en()){return zm(r)||wT(r)||IT(r)||RT(r)||/windows phone/i.test(r)||ST(r)}function NT(r,t=[]){let n;switch(r){case"Browser":n=Av(en());break;case"Worker":n=`${Av(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}class RR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function IR(r,t={}){return cr(r,"GET","/v2/passwordPolicy",us(r,t))}const CR=6;class NR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class DR{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new RR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rh(this,{idToken:t}),s=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await sh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(ir(this));const n=t?an(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IR(this),n=new NR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&nr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,l);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $s(r){return an(r)}class Sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=F1(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OR(r){bh=r}function DT(r){return bh.loadJS(r)}function MR(){return bh.recaptchaEnterpriseScript}function VR(){return bh.gapiScript}function xR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class kR{constructor(){this.enterprise=new UR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class UR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const LR="recaptcha-enterprise",OT="NO_RECAPTCHA";class PR{constructor(t){this.type=LR,this.auth=$s(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{pR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new mR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,f,p){const g=window.grecaptcha;vv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(OT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&vv(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=MR();g.length!==0&&(g+=p),DT(g).then(()=>{l(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function wv(r,t,n,s=!1,l=!1){const u=new PR(r);let f;if(l)f=OT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dm(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await wv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await wv(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function zR(r,t){const n=km(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Gs(u,t??{}))return l;ni(l,"already-initialized")}return n.initialize({options:t})}function BR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(nr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function jR(r,t,n){const s=$s(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=MT(t),{host:f,port:p}=qR(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Gs(y,s.config.emulator)&&Gs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ho(f)?(sT(`${u}//${f}${g}`),aT("Auth",!0)):HR()}function MT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function qR(r){const t=MT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Rv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Rv(f)}}}function Rv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function HR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Bm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(t){return er("not implemented")}_linkToIdToken(t,n){return er("not implemented")}_getReauthenticationResolver(t){return er("not implemented")}}async function GR(r,t){return cr(r,"POST","/v1/accounts:signUp",t)}async function FR(r,t){return Jl(r,"POST","/v1/accounts:signInWithPassword",us(r,t))}async function QR(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",us(r,t))}async function YR(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",us(r,t))}class Bl extends Bm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Bl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Bl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(t,n,"signInWithPassword",FR);case"emailLink":return QR(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(t,s,"signUpPassword",GR);case"emailLink":return YR(t,{idToken:n,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Za(r,t){return Jl(r,"POST","/v1/accounts:signInWithIdp",us(r,t))}const KR="http://localhost";class Qs extends Bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new Qs(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Za(t,n)}buildRequest(){const t={requestUri:KR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$l(n)}return t}}function XR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $R(r){const t=Il(Cl(r)).link,n=t?Il(Cl(t)).deep_link_id:null,s=Il(Cl(r)).deep_link_id;return(s?Il(Cl(s)).link:null)||s||n||t||r}class jm{constructor(t){const n=Il(Cl(t)),s=n.apiKey??null,l=n.oobCode??null,u=XR(n.mode??null);Tt(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$R(t);try{return new jm(n)}catch{return null}}}class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,n){return Bl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=jm.parseLink(n);return Tt(s,"argument-error"),Bl._fromEmailAndCode(t,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class VT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wl extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qr extends Wl{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Yr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";class Kr extends Wl{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Xr extends Wl{constructor(){super("twitter.com")}static credential(t,n){return Qs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";async function ZR(r,t){return Jl(r,"POST","/v1/accounts:signUp",us(r,t))}class Ys{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await ti._fromIdTokenResponse(t,s,l),f=Iv(s);return new Ys({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Iv(s);return new Ys({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ah extends ur{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new ah(t,n,s,l)}}function xT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,u,t,s):u})}async function JR(r,t,n=!1){const s=await no(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ys._forOperation(r,"link",s)}async function WR(r,t,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(ir(s));const l="reauthenticate";try{const u=await no(r,xT(s,l,t,r),n);Tt(u.idToken,s,"internal-error");const f=Pm(u.idToken);Tt(f,s,"internal-error");const{sub:p}=f;return Tt(r.uid===p,s,"user-mismatch"),Ys._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function kT(r,t,n=!1){if(Pn(r.app))return Promise.reject(ir(r));const s="signIn",l=await xT(r,s,t),u=await Ys._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function tI(r,t){return kT($s(r),t)}async function UT(r){const t=$s(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eI(r,t,n){if(Pn(r.app))return Promise.reject(ir(r));const s=$s(r),f=await dm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&UT(r),g}),p=await Ys._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function nI(r,t,n){return Pn(r.app)?Promise.reject(ir(r)):tI(an(r),mo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UT(r),s})}async function iI(r,t){return cr(r,"POST","/v1/accounts:update",t)}async function rI(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=an(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await no(s,iI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function sI(r,t,n,s){return an(r).onIdTokenChanged(t,n,s)}function aI(r,t,n){return an(r).beforeAuthStateChanged(t,n)}function LT(r,t,n,s){return an(r).onAuthStateChanged(t,n,s)}const oh="__sak";class PT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oI=1e3,lI=10;class zT extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);wR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,lI):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}zT.type="LOCAL";const uI=zT;class BT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BT.type="SESSION";const jT=BT;function cI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Ah(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await cI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function qm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class hI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=qm("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(M.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function fI(r){Ni().location.href=r}function qT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function dI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){return navigator?.serviceWorker?.controller||null}function pI(){return qT()?self:null}const HT="firebaseLocalStorageDb",gI=1,lh="firebaseLocalStorage",GT="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sh(r,t){return r.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function yI(){const r=indexedDB.deleteDatabase(HT);return new tu(r).toPromise()}function mm(){const r=indexedDB.open(HT,gI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(lh,{keyPath:GT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(lh)?t(s):(s.close(),await yI(),t(await mm()))})})}async function Cv(r,t,n){const s=Sh(r,!0).put({[GT]:t,value:n});return new tu(s).toPromise()}async function _I(r,t){const n=Sh(r,!1).get(t),s=await new tu(n).toPromise();return s===void 0?null:s.value}function Nv(r,t){const n=Sh(r,!0).delete(t);return new tu(n).toPromise()}const vI=800,EI=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>EI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(pI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mm();return await Cv(t,oh,"1"),await Nv(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>_I(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Sh(l,!1).getAll();return new tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const TI=FT;new Zl(3e4,6e4);function bI(r,t){return t?nr(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Hm extends Bm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function AI(r){return kT(r.auth,new Hm(r),r.bypassAuthState)}function SI(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),WR(n,new Hm(r),r.bypassAuthState)}async function wI(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),JR(n,new Hm(r),r.bypassAuthState)}class QT{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:ni(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RI=new Zl(2e3,1e4);class Ka extends QT{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RI.get())};t()}}Ka.currentPopupAction=null;const II="pendingRedirect",Qc=new Map;class CI extends QT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const s=await NI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(r,t){const n=MI(t),s=OI(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function DI(r,t){Qc.set(r._key(),t)}function OI(r){return nr(r._redirectPersistence)}function MI(r){return Fc(II,r.config.apiKey,r.name)}async function VI(r,t,n=!1){if(Pn(r.app))return Promise.reject(ir(r));const s=$s(r),l=bI(s,t),f=await new CI(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const xI=600*1e3;class kI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!YT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(t))}saveEventToCache(t){this.cachedEventUids.add(Dv(t)),this.lastProcessedEventTime=Date.now()}}function Dv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function YT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function UI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(r);default:return!1}}async function LI(r,t={}){return cr(r,"GET","/v1/projects",t)}const PI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zI=/^https?/;async function BI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await LI(r);for(const n of t)try{if(jI(n))return}catch{}ni(r,"unauthorized-domain")}function jI(r){const t=hm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!zI.test(n))return!1;if(PI.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const qI=new Zl(3e4,6e4);function Ov(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function HI(r){return new Promise((t,n)=>{function s(){Ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ov(),n(Ci(r,"network-request-failed"))},timeout:qI.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const l=xR("iframefcb");return Ni()[l]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},DT(`${VR()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Yc=null,t})}let Yc=null;function GI(r){return Yc=Yc||HI(r),Yc}const FI=new Zl(5e3,15e3),QI="__/auth/iframe",YI="emulator/auth/iframe",KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $I(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Lm(t,YI):`https://${r.config.authDomain}/${QI}`,s={apiKey:t.apiKey,appName:r.name,v:fo},l=XI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${$l(s).slice(1)}`}async function ZI(r){const t=await GI(r),n=Ni().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:$I(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),p=Ni().setTimeout(()=>{u(f)},FI.get());function g(){Ni().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{u(f)})}))}const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WI=500,tC=600,eC="_blank",nC="http://localhost";class Mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iC(r,t,n,s=WI,l=tC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...JI,width:s.toString(),height:l.toString(),top:u,left:f},y=en().toLowerCase();n&&(p=AT(y)?eC:n),TT(y)&&(t=t||nC,g.scrollbars="yes");const T=Object.entries(g).reduce((M,[G,J])=>`${M}${G}=${J},`,"");if(SR(y)&&p!=="_self")return rC(t||"",p),new Mv(null);const S=window.open(t||"",p,T);Tt(S,r,"popup-blocked");try{S.focus()}catch{}return new Mv(S)}function rC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const sC="__/auth/handler",aC="emulator/auth/handler",oC=encodeURIComponent("fac");async function Vv(r,t,n,s,l,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fo,eventId:l};if(t instanceof VT){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",G1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof Wl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),y=g?`#${oC}=${encodeURIComponent(g)}`:"";return`${lC(r)}?${$l(p).slice(1)}${y}`}function lC({config:r}){return r.emulator?Lm(r,aC):`https://${r.authDomain}/${sC}`}const Wd="webStorageSupport";class uC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=VI,this._overrideRedirectResult=DI}async _openPopup(t,n,s,l){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Vv(t,n,s,hm(),l);return iC(t,u,qm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await Vv(t,n,s,hm(),l);return fI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await ZI(t),s=new kI(t);return n.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wd,{type:Wd},l=>{const u=l?.[0]?.[Wd];u!==void 0&&n(!!u),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return CT()||bT()||zm()}}const cC=uC;var xv="@firebase/auth",kv="1.11.1";class hC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dC(r){eo(new Fs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(r)},y=new DR(s,l,u,g);return BR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),eo(new Fs("auth-internal",t=>{const n=$s(t.getProvider("auth").getImmediate());return(s=>new hC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(xv,kv,fC(r)),Wr(xv,kv,"esm2020")}const mC=300,pC=rT("authIdTokenMaxAge")||mC;let Uv=null;const gC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pC)return;const l=n?.token;Uv!==l&&(Uv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yC(r=cT()){const t=km(r,"auth");if(t.isInitialized())return t.getImmediate();const n=zR(r,{popupRedirectResolver:cC,persistence:[TI,uI,jT]}),s=rT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=gC(u.toString());aI(n,f,()=>f(n.currentUser)),sI(n,p=>f(p))}}const l=nT("auth");return l&&jR(n,`http://${l}`),n}function _C(){return document.getElementsByTagName("head")?.[0]??document}OR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Ci("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",_C().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dC("Browser");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,KT;(function(){var r;function t(N,A){function w(){}w.prototype=A.prototype,N.F=A.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(V,D,x){for(var R=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)R[Xt-2]=arguments[Xt];return A.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,w){w||(w=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=N.g[0],w=N.g[1],D=N.g[2];let x=N.g[3],R;R=A+(x^w&(D^x))+V[0]+3614090360&4294967295,A=w+(R<<7&4294967295|R>>>25),R=x+(D^A&(w^D))+V[1]+3905402710&4294967295,x=A+(R<<12&4294967295|R>>>20),R=D+(w^x&(A^w))+V[2]+606105819&4294967295,D=x+(R<<17&4294967295|R>>>15),R=w+(A^D&(x^A))+V[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(x^w&(D^x))+V[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=x+(D^A&(w^D))+V[5]+1200080426&4294967295,x=A+(R<<12&4294967295|R>>>20),R=D+(w^x&(A^w))+V[6]+2821735955&4294967295,D=x+(R<<17&4294967295|R>>>15),R=w+(A^D&(x^A))+V[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(x^w&(D^x))+V[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=x+(D^A&(w^D))+V[9]+2336552879&4294967295,x=A+(R<<12&4294967295|R>>>20),R=D+(w^x&(A^w))+V[10]+4294925233&4294967295,D=x+(R<<17&4294967295|R>>>15),R=w+(A^D&(x^A))+V[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(x^w&(D^x))+V[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=x+(D^A&(w^D))+V[13]+4254626195&4294967295,x=A+(R<<12&4294967295|R>>>20),R=D+(w^x&(A^w))+V[14]+2792965006&4294967295,D=x+(R<<17&4294967295|R>>>15),R=w+(A^D&(x^A))+V[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=A+(D^x&(w^D))+V[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=x+(w^D&(A^w))+V[6]+3225465664&4294967295,x=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(x^A))+V[11]+643717713&4294967295,D=x+(R<<14&4294967295|R>>>18),R=w+(x^A&(D^x))+V[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(D^x&(w^D))+V[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=x+(w^D&(A^w))+V[10]+38016083&4294967295,x=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(x^A))+V[15]+3634488961&4294967295,D=x+(R<<14&4294967295|R>>>18),R=w+(x^A&(D^x))+V[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(D^x&(w^D))+V[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=x+(w^D&(A^w))+V[14]+3275163606&4294967295,x=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(x^A))+V[3]+4107603335&4294967295,D=x+(R<<14&4294967295|R>>>18),R=w+(x^A&(D^x))+V[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(D^x&(w^D))+V[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=x+(w^D&(A^w))+V[2]+4243563512&4294967295,x=A+(R<<9&4294967295|R>>>23),R=D+(A^w&(x^A))+V[7]+1735328473&4294967295,D=x+(R<<14&4294967295|R>>>18),R=w+(x^A&(D^x))+V[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=A+(w^D^x)+V[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=x+(A^w^D)+V[8]+2272392833&4294967295,x=A+(R<<11&4294967295|R>>>21),R=D+(x^A^w)+V[11]+1839030562&4294967295,D=x+(R<<16&4294967295|R>>>16),R=w+(D^x^A)+V[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(w^D^x)+V[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=x+(A^w^D)+V[4]+1272893353&4294967295,x=A+(R<<11&4294967295|R>>>21),R=D+(x^A^w)+V[7]+4139469664&4294967295,D=x+(R<<16&4294967295|R>>>16),R=w+(D^x^A)+V[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(w^D^x)+V[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=x+(A^w^D)+V[0]+3936430074&4294967295,x=A+(R<<11&4294967295|R>>>21),R=D+(x^A^w)+V[3]+3572445317&4294967295,D=x+(R<<16&4294967295|R>>>16),R=w+(D^x^A)+V[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(w^D^x)+V[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=x+(A^w^D)+V[12]+3873151461&4294967295,x=A+(R<<11&4294967295|R>>>21),R=D+(x^A^w)+V[15]+530742520&4294967295,D=x+(R<<16&4294967295|R>>>16),R=w+(D^x^A)+V[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=A+(D^(w|~x))+V[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=x+(w^(A|~D))+V[7]+1126891415&4294967295,x=A+(R<<10&4294967295|R>>>22),R=D+(A^(x|~w))+V[14]+2878612391&4294967295,D=x+(R<<15&4294967295|R>>>17),R=w+(x^(D|~A))+V[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=A+(D^(w|~x))+V[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=x+(w^(A|~D))+V[3]+2399980690&4294967295,x=A+(R<<10&4294967295|R>>>22),R=D+(A^(x|~w))+V[10]+4293915773&4294967295,D=x+(R<<15&4294967295|R>>>17),R=w+(x^(D|~A))+V[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=A+(D^(w|~x))+V[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=x+(w^(A|~D))+V[15]+4264355552&4294967295,x=A+(R<<10&4294967295|R>>>22),R=D+(A^(x|~w))+V[6]+2734768916&4294967295,D=x+(R<<15&4294967295|R>>>17),R=w+(x^(D|~A))+V[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=A+(D^(w|~x))+V[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=x+(w^(A|~D))+V[11]+3174756917&4294967295,x=A+(R<<10&4294967295|R>>>22),R=D+(A^(x|~w))+V[2]+718787259&4294967295,D=x+(R<<15&4294967295|R>>>17),R=w+(x^(D|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const w=A-this.blockSize,V=this.C;let D=this.h,x=0;for(;x<A;){if(D==0)for(;x<=w;)l(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<A;)if(V[D++]=N.charCodeAt(x++),D==this.blockSize){l(this,V),D=0;break}}else for(;x<A;)if(V[D++]=N[x++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)N[A++]=this.g[w]>>>V&255;return N};function u(N,A){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=A(N)}function f(N,A){this.h=A;const w=[];let V=!0;for(let D=N.length-1;D>=0;D--){const x=N[D]|0;V&&x==A||(w[D]=x,V=!1)}this.g=w}var p={};function g(N){return-128<=N&&N<128?u(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(y(-N));const A=[];let w=1;for(let V=0;N>=w;V++)A[V]=N/w|0,w*=4294967296;return new f(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return W(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(A,8));let V=S;for(let x=0;x<N.length;x+=8){var D=Math.min(8,N.length-x);const R=parseInt(N.substring(x,x+D),A);D<8?(D=y(Math.pow(A,D)),V=V.j(D).add(y(R))):(V=V.j(w),V=V.add(y(R)))}return V}var S=g(0),M=g(1),G=g(16777216);r=f.prototype,r.m=function(){if(et(this))return-W(this).m();let N=0,A=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(et(this))return"-"+W(this).toString(N);const A=y(Math.pow(N,6));var w=this;let V="";for(;;){const D=Mt(w,A).g;w=ft(w,D.j(A));let x=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=D,J(w))return x+V;for(;x.length<6;)x="0"+x;V=x+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function et(N){return N.h==-1}r.l=function(N){return N=ft(this,N),et(N)?-1:J(N)?0:1};function W(N){const A=N.g.length,w=[];for(let V=0;V<A;V++)w[V]=~N.g[V];return new f(w,~N.h).add(M)}r.abs=function(){return et(this)?W(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),w=[];let V=0;for(let D=0;D<=A;D++){let x=V+(this.i(D)&65535)+(N.i(D)&65535),R=(x>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,x&=65535,R&=65535,w[D]=R<<16|x}return new f(w,w[w.length-1]&-2147483648?-1:0)};function ft(N,A){return N.add(W(A))}r.j=function(N){if(J(this)||J(N))return S;if(et(this))return et(N)?W(this).j(W(N)):W(W(this).j(N));if(et(N))return W(this.j(W(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,w=[];for(var V=0;V<2*A;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const x=this.i(V)>>>16,R=this.i(V)&65535,Xt=N.i(D)>>>16,ot=N.i(D)&65535;w[2*V+2*D]+=R*ot,Et(w,2*V+2*D),w[2*V+2*D+1]+=x*ot,Et(w,2*V+2*D+1),w[2*V+2*D+1]+=R*Xt,Et(w,2*V+2*D+1),w[2*V+2*D+2]+=x*Xt,Et(w,2*V+2*D+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new f(w,0)};function Et(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function dt(N,A){this.g=N,this.h=A}function Mt(N,A){if(J(A))throw Error("division by zero");if(J(N))return new dt(S,S);if(et(N))return A=Mt(W(N),A),new dt(W(A.g),W(A.h));if(et(A))return A=Mt(N,W(A)),new dt(W(A.g),A.h);if(N.g.length>30){if(et(N)||et(A))throw Error("slowDivide_ only works with positive integers.");for(var w=M,V=A;V.l(N)<=0;)w=qt(w),V=qt(V);var D=wt(w,1),x=wt(V,1);for(V=wt(V,2),w=wt(w,2);!J(V);){var R=x.add(V);R.l(N)<=0&&(D=D.add(w),x=R),V=wt(V,1),w=wt(w,1)}return A=ft(N,D.j(A)),new dt(D,A)}for(D=S;N.l(A)>=0;){for(w=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),x=y(w),R=x.j(A);et(R)||R.l(N)>0;)w-=V,x=y(w),R=x.j(A);J(x)&&(x=M),D=D.add(x),N=ft(N,R)}return new dt(D,N)}r.B=function(N){return Mt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<A;V++)w[V]=this.i(V)&N.i(V);return new f(w,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<A;V++)w[V]=this.i(V)|N.i(V);return new f(w,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<A;V++)w[V]=this.i(V)^N.i(V);return new f(w,this.h^N.h)};function qt(N){const A=N.g.length+1,w=[];for(let V=0;V<A;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(w,N.h)}function wt(N,A){const w=A>>5;A%=32;const V=N.g.length-w,D=[];for(let x=0;x<V;x++)D[x]=A>0?N.i(x+w)>>>A|N.i(x+w+1)<<32-A:N.i(x+w);return new f(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,KT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,ts=f}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XT,Nl,$T,Kc,pm,ZT,JT,WT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break t;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,j){for(var it=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)it[Nt-2]=arguments[Nt];return m.prototype[L].apply(b,it)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function J(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const j=L.length||0;c.length=v+j;for(let it=0;it<j;it++)c[v+it]=L[it]}else c.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function ft(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const b=dt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var dt=new et(()=>new Mt,c=>c.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,wt=!1,N=new Et,A=()=>{const c=Promise.resolve(void 0);qt=()=>{c.then(w)}};function w(){for(var c;c=ft();){try{c.h.call(c.g)}catch(v){W(v)}var m=dt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Xt(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Xt,D),Xt.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),U=0;function X(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++U,this.da=this.fa=!1}function H(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mt(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function At(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function I(c){const m={};for(const v in c)m[v]=c[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let j=0;j<F.length;j++)v=F[j],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function nt(c){this.src=c,this.g={},this.h=0}nt.prototype.add=function(c,m,v,b,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const it=Rt(c,m,b,L);return it>-1?(m=c[it],v||(m.fa=!1)):(m=new X(m,this.src,j,!!b,L),m.fa=v,c.push(m)),m};function _t(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(b,L,1),j&&(H(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,b){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==b)return L}return-1}var yt="closure_lm_"+(Math.random()*1e6|0),de={};function Zt(c,m,v,b,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Zt(c,m[j],v,b,L);return null}return v=bo(v),c&&c[ot]?c.J(m,v,p(b)?!!b.capture:!1,L):Sn(c,m,v,!1,b,L)}function Sn(c,m,v,b,L,j){if(!m)throw Error("Invalid event type");const it=p(L)?!!L.capture:!!L;let Nt=hs(c);if(Nt||(c[yt]=Nt=new nt(c)),v=Nt.add(m,v,b,it,j),v.proxy)return v;if(b=ri(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)x||(L=it),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(si(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ri(){function c(v){return m.call(c.src,c.listener,v)}const m=Eo;return c}function jn(c,m,v,b,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)jn(c,m[j],v,b,L);else b=p(b)?!!b.capture:!!b,v=bo(v),c&&c[ot]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],v=Rt(m,v,b,L),v>-1&&(H(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=hs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,b,L)),(v=c>-1?m[c]:null)&&ea(v))}function ea(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ot])_t(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(si(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=hs(m))?(_t(v,c),v.h==0&&(v.src=null,m[yt]=null)):H(c)}}}function si(c){return c in de?de[c]:de[c]="on"+c}function Eo(c,m){if(c.da)c=!0;else{m=new Xt(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&ea(c),c=v.call(b,m)}return c}function hs(c){return c=c[yt],c instanceof nt?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function Te(){V.call(this),this.i=new nt(this),this.M=this,this.G=null}S(Te,V),Te.prototype[ot]=!0,Te.prototype.removeEventListener=function(c,m,v,b){jn(this,c,m,v,b)};function Ve(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(b,c),tt(m,L)}L=!0;let j,it;if(v)for(it=v.length-1;it>=0;it--)j=m.g=v[it],L=hr(j,b,!0,m)&&L;if(j=m.g=c,L=hr(j,b,!0,m)&&L,L=hr(j,b,!1,m)&&L,v)for(it=0;it<v.length;it++)j=m.g=v[it],L=hr(j,b,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)H(v[b]);delete c.g[m],c.h--}}this.G=null},Te.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Te.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function hr(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const it=m[j];if(it&&!it.da&&it.capture==v){const Nt=it.listener,ye=it.ha||it.src;it.fa&&_t(c.i,it),L=Nt.call(ye,b)!==!1&&L}}return L&&!b.defaultPrevented}function Bh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function au(c){c.g=Bh(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){V.call(this),this.h=c,this.g={}}S(fs,V);var Ao=[];function So(c){mt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),So(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=f.JSON.stringify,jh=f.JSON.parse,ou=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function lu(){}function uu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}S(qe,D);function wn(){D.call(this,"c")}S(wn,D);var ge={},cu=null;function na(){return cu=cu||new Te}ge.Ia="serverreachability";function hu(c){D.call(this,ge.Ia,c)}S(hu,D);function ai(c){const m=na();Ve(m,new hu(m))}ge.STAT_EVENT="statevent";function ds(c,m){D.call(this,ge.STAT_EVENT,c),this.stat=m}S(ds,D);function be(c){const m=na();Ve(m,new ds(m,c))}ge.Ja="timingevent";function oi(c,m){D.call(this,ge.Ja,c),this.size=m}S(oi,D);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function qh(c,m,v,b,L,j){c.info(function(){if(c.g)if(j){var it="",Nt=j.split("&");for(let Yt=0;Yt<Nt.length;Yt++){var ye=Nt[Yt].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const Nn=ce.split("_");it=Nn.length>=2&&Nn[1]=="type"?it+(ce+"="+ye+"&"):it+(ce+"=redacted&")}}}else it=null;else it=j;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+it})}function fu(c,m,v,b,L,j,it){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+j+" "+it})}function ui(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(c,v)+(b?" "+b:"")})}function ms(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Hh(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return fr(j)}catch{return m}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function gs(){}S(gs,lu),gs.prototype.g=function(){return new XMLHttpRequest},Ro=new gs;function ki(c){return encodeURIComponent(String(c))}function du(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Gn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Ae={},Le={};function ci(c,m,v){c.M=1,c.A=ys(we(m)),c.u=v,c.R=!0,ia(c,null)}function ia(c,m){c.F=Date.now(),hi(c),c.B=we(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),oa(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Fn,c.g=Cu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ao[0]=L.toString()),L=Ao);for(let j=0;j<L.length;j++){const it=Zt(v,L[j],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=c.J?I(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),qh(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Kn(c)==3?m.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)t:{const Nt=Kn(this.g),ye=this.g.ya(),Yt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Nt!=4||ye==7||(ye==8||Yt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Gh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var j=b;break e}}j=null}if(c=j)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,be(12),pn(this),Rn(this);break t}}if(this.R){c=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=pu(this,v),ce==Le){Nt==4&&(this.m=4,be(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Ae){this.m=4,be(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ce,null),di(this,ce);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(it),it.P=!0,be(11))}}else ui(this.i,this.l,v,null),di(this,v);Nt==4&&pn(this),this.o&&!this.K&&(Nt==4?Su(this.j,this):(this.o=!1,hi(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),pn(this),Rn(this)}}}catch{}finally{}};function Gh(c){if(!mu(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const b=m.length,L=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<b;j++)c.h.h=!0,v+=c.h.i.decode(m[j],{stream:!(L&&j==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function pu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Le:(v=Number(m.substring(v,b)),isNaN(v)?Ae:(b+=1,b+v>m.length?Le:(m=m.slice(b,b+v),c.C=b+v,m)))}Gn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(c){c.T=Date.now()+c.H,ra(c,c.H)}function ra(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),m)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(ai(),be(17)),pn(this),this.m=2,Rn(this)):ra(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Su(c.j,c)}function pn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,So(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)fa(v),Er(v);else break t;Ss(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&fa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const ce=Yt[0];if(!(ce<=v.K))if(v.K=ce,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Nn=Yt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const bi=Yt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=Yt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(b=1.5*Xn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const $n=c.g;if($n){const ws=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var j=b.h;j.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(No(j,j.h),j.h=null))}if(b.G){const da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(b.wa=da,Jt(b.J,b.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var it=c;if(b.na=Iu(b,b.L?b.ba:null,b.W),it.L){Do(b.h,it);var Nt=it,ye=b.O;ye&&(Nt.H=ye),Nt.D&&(fi(Nt),hi(Nt)),b.g=it}else bu(b);v.i.length>0&&Ei(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Ti(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ti(v,7):zo(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}ai(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function Io(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function No(c,m){c.g?c.g.add(m):c.h=m}function Do(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return G(c.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,j=null;b>=0?(L=c[v].substring(0,b),j=c[v].substring(b+1)):L=c[v],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.u),this.h=c.h,Mo(this,Eu(c.i)),this.m=c.m):c&&(m=String(c).match(gu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),dr(this,m[4]),this.h=gi(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(_s(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_s(m,aa,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?Vo:yu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,_u)),c.join("")},gn.prototype.resolve=function(c){const m=we(this);let v=!!c.j;v?Pe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)dr(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let it=0;it<L.length;){const Nt=L[it++];Nt=="."?b&&it==L.length&&j.push(""):Nt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&it==L.length&&j.push("")):(j.push(Nt),b=!0)}b=j.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?Mo(m,Eu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function we(c){return new gn(c)}function Pe(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Mo(c,m,v){m instanceof pr?(c.i=m,la(c.i,c.l)):(v||(m=_s(m,mr)),c.i=new pr(m,c.l))}function Jt(c,m,v){c.i.set(m,v)}function ys(c){return Jt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var aa=/[#\/\?@]/g,yu=/[#\?:]/g,Vo=/[#\?]/g,mr=/[#\?@]/g,_u=/#/g;function pr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&sa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(c,m){ln(this),this.i=null,c=gr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function vu(c,m){ln(c),m=gr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function xo(c,m){return ln(c),m=gr(c,m),c.g.has(m)}r.forEach=function(c,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function ko(c,m){ln(c);let v=[];if(typeof m=="string")xo(c,m)&&(v=v.concat(c.g.get(gr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return ln(this),this.i=null,c=gr(this,c),xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=ko(this,c),c.length>0?String(c[0]):m):m};function oa(c,m,v){vu(c,m),v.length>0&&(c.i=null,c.g.set(gr(c,m),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=ki(v);v=ko(this,v);for(let j=0;j<v.length;j++){let it=L;v[j]!==""&&(it+="="+ki(v[j])),c.push(it)}}return this.i=c.join("&")};function Eu(c){const m=new pr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function gr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function la(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(vu(this,b),oa(this,L,v))},c)),c.j=m}function Qn(c,m){const v=new Hn;if(f.Image){const b=new Image;b.onload=T(In,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(In,v,"TestLoadImage: error",!1,m,b),b.onabort=T(In,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(In,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Uo(c,m){const v=new Hn,b=new AbortController,L=setTimeout(()=>{b.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(j=>{clearTimeout(L),j.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function yr(){this.g=new ou}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,lu),yi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,m){Te.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(vs,Te),r=vs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?_r(this):Yn(this),this.readyState==3&&ua(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,_r(this))},r.Na=function(c){this.g&&(this.response=c,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return mt(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Es(c,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Cn(v),typeof c=="string"?v!=null&&ki(v):Jt(c,m,v))}function ee(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ee,Te);var _i=/^https?$/i,Lo=["POST","PUT"];r=ee.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){Ts(this,j);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())v.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,it]of v)this.g.setRequestHeader(j,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){Ts(this,j)}};function Ts(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Po(c),Ui(c)}function Po(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=j===0){let it=String(c.D).match(gu)[1]||null;!it&&f.self&&f.self.location&&(it=f.self.location.protocol.slice(0,-1)),b=!_i.test(it?it.toLowerCase():"")}v=b}if(v)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var L=Kn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Po(c)}}finally{Ui(c)}}}}function Ui(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ve(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),jh(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const m={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var v=du(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[L]||[];m[L]=j,j.push(v)}At(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function vr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new yr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,b){be(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Iu(this,null,this.W),Ei(this)};function zo(c){if(ca(c),c.I==3){var m=c.V++,v=we(c.J);if(Jt(v,"SID",c.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),As(c,v),m=new Gn(c,c.j,m),m.M=2,m.A=ys(we(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Ru(c)}function Er(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function ca(c){Er(c),c.v&&(f.clearTimeout(c.v),c.v=null),fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;qt||A(),wt||(qt(),wt=!0),N.add(m,c),c.D=0}}function ha(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,m),wu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Gn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=I(j),tt(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Tu(this,L,m),v=we(this.J),Jt(v,"RID",c),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),As(this,v),j&&(this.R?m="headers="+ki(Cn(j))+"&"+m:this.u&&Es(v,this.u,j)),No(this.h,L),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||Co(this.h)||Bo(this))};function Bo(c,m){var v;m?v=m.l:v=c.V++;const b=we(c.J);Jt(b,"SID",c.M),Jt(b,"RID",v),Jt(b,"AID",c.K),As(c,b),c.u&&c.o&&Es(b,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Tu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),No(c.h,v),ci(v,b,m)}function As(c,m){c.H&&mt(c.H,function(v,b){Jt(m,b,v)}),c.l&&mt({},function(v,b){Jt(m,b,v)})}function Tu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let Nt=-1;for(;;){const ye=["count="+v];Nt==-1?v>0?(Nt=L[0].g,ye.push("ofs="+Nt)):Nt=0:ye.push("ofs="+Nt);let Yt=!0;for(let ce=0;ce<v;ce++){var j=L[ce].g;const Nn=L[ce].map;if(j-=Nt,j<0)Nt=Math.max(0,L[ce].g-100),Yt=!1;else try{j="req"+j+"_"||"";try{var it=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,Xn]of it){let $n=Xn;p(Xn)&&($n=fr(Xn)),ye.push(j+bi+"="+encodeURIComponent($n))}}catch(bi){throw ye.push(j+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Nn)}}if(Yt){it=ye.join("&");break t}}it=void 0}return c=c.i.splice(0,v),m.G=c,it}function bu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;qt||A(),wt||(qt(),wt=!0),N.add(m,c),c.A=0}}function Ss(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),wu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Er(this),Au(this))};function jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Au(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=we(c.na);Jt(m,"RID","rpc"),Jt(m,"SID",c.M),Jt(m,"AID",c.K),Jt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Jt(m,"TO",c.ia),Jt(m,"TYPE","xmlhttp"),As(c,m),c.u&&c.o&&Es(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ys(we(m)),v.u=null,v.R=!0,ia(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Er(this),Ss(this),be(19))};function fa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Su(c,m){var v=null;if(c.g==m){fa(c),jo(c),c.g=null;var b=2}else if(pi(c.h,m))v=m.G,Do(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=na(),Ve(b,new oi(b,v)),Ei(c)}else bu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ha(c,m)||b==2&&Ss(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function wu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),b=c.Ua;const L=!b;b=new gn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pe(b,"https"),ys(b),L?Qn(b.toString(),v):Uo(b.toString(),v)}else be(2);c.I=0,c.l&&c.l.pa(m),Ru(c),ca(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Ru(c){if(c.I=0,c.ja=[],c.l){const m=Oo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function Iu(c,m,v){var b=v instanceof gn?we(v):new gn(v);if(b.g!="")m&&(b.g=m+"."+b.g),dr(b,b.u);else{var L=f.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new gn(null);b&&Pe(j,b),m&&(j.g=m),L&&dr(j,L),v&&(j.h=v),b=j}return v=c.G,m=c.wa,v&&m&&Jt(b,v,m),Jt(b,"VER",c.ka),As(c,b),b}function Cu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new ee(new yi({ab:v})):new ee(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}r=Nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Tr(){}Tr.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){Te.call(this),this.g=new vr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Pi(this)}S(rn,Te),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){zo(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fr(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&Ei(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,rn.Z.N.call(this)};function Du(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Du,qe);function Ou(){wn.call(this),this.status=1}S(Ou,wn);function Pi(c){this.g=c}S(Pi,Nu),Pi.prototype.ra=function(){Ve(this.g,"a")},Pi.prototype.qa=function(c){Ve(this.g,new Du(c))},Pi.prototype.pa=function(c){Ve(this.g,new Ou)},Pi.prototype.oa=function(){Ve(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,WT=function(){return new Tr},JT=function(){return na()},ZT=ge,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Kc=ps,wo.COMPLETE="complete",$T=wo,uu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Nl=uu,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,XT=ee}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Pv="@firebase/firestore",zv="4.9.2";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let po="12.3.0";const Ks=new Vm("@firebase/firestore");function Ga(){return Ks.logLevel}function at(r,...t){if(Ks.logLevel<=zt.DEBUG){const n=t.map(Gm);Ks.debug(`Firestore (${po}): ${r}`,...n)}}function or(r,...t){if(Ks.logLevel<=zt.ERROR){const n=t.map(Gm);Ks.error(`Firestore (${po}): ${r}`,...n)}}function io(r,...t){if(Ks.logLevel<=zt.WARN){const n=t.map(Gm);Ks.warn(`Firestore (${po}): ${r}`,...n)}}function Gm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function bt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,t0(r,s,n)}function t0(r,t,n){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw or(s),new Error(s)}function $t(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||t0(t,l,s)}function Ct(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class e0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class EC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TC{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new es,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new es)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new e0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class bC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new bC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Fm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=wC(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Bt(r,t){return r<t?-1:r>t?1:0}function gm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return tm(l)===tm(u)?Bt(l,u):tm(l)?1:-1}return Bt(r.length,t.length)}const RC=55296,IC=57343;function tm(r){const t=r.charCodeAt(0);return t>=RC&&t<=IC}function ro(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const jv="__name__";class Ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&bt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&bt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Ii.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Bt(t.length,n.length)}static compareSegments(t,n){const s=Ii.isNumericId(t),l=Ii.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(n)):gm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ts.fromString(t.substring(4,t.length-2))}}class ae extends Ii{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ii{construct(t,n,s){return new Xe(t,n,s)}static isValidIdentifier(t){return CC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new Xe([jv])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(s+=p,l++):(u(),l++)}if(u(),f)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ae.fromString(t))}static fromName(t){return new gt(ae.fromString(t).popFirst(5))}static empty(){return new gt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ae(t.slice()))}}function n0(r,t,n){if(!n)throw new rt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function NC(r,t,n,s){if(t===!0&&s===!0)throw new rt($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function qv(r){if(!gt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hv(r){if(gt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function i0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function uh(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(r);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Me(r,t){const n={typeString:r};return t&&(n.value=t),n}function eu(r,t){if(!i0(r))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new rt($.INVALID_ARGUMENT,n);return!0}const Gv=-62135596800,Fv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Fv);return new ue(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Gv)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(eu(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Me("string",ue._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ue(0,0))}static max(){return new St(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function DC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(s===1e9?new ue(n+1,0):new ue(n,s));return new is(l,gt.empty(),t)}function OC(r){return new is(r.readTime,r.key,jl)}class is{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new is(St.min(),gt.empty(),jl)}static max(){return new is(St.max(),gt.empty(),jl)}}function MC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Bt(r.largestBatchId,t.largestBatchId))}const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==VC)throw r;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,s)=>{n(t)}))}static reject(t){return new Z(((n,s)=>{s(t)}))}static waitFor(t){return new Z(((n,s)=>{let l=0,u=0,f=!1;t.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(g=>s(g)))})),f=!0,u===l&&n()}))}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next((l=>l?Z.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new Z(((s,l)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((T=>{f[y]=T,++p,p===u&&s(f)}),(T=>l(T)))}}))}static doWhile(t,n){return new Z(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function kC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}class Rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rh.ce=-1;const Qm=-1;function Ih(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function UC(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const r0="";function LC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Qv(t)),t=PC(r.get(n),t);return Qv(t)}function PC(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case r0:n+="";break;default:n+=u}}return n}function Qv(r){return r+r0+""}function Yv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Zs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function s0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=l??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ke(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(t){return new Kv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class Kv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new ei([])}unionWith(t){let n=new Ue(Xe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ei(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class a0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new a0("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const zC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if($t(!!r,39018),typeof r=="string"){let t=0;const n=zC.exec(r);if($t(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const o0="server_timestamp",l0="__type__",u0="__previous_value__",c0="__local_write_time__";function Ym(r){return(r?.mapValue?.fields||{})[l0]?.stringValue===o0}function Ch(r){const t=r.mapValue.fields[u0];return Ym(t)?Ch(t):t}function ql(r){const t=rs(r.mapValue.fields[c0].timestampValue);return new ue(t.seconds,t.nanos)}class BC{constructor(t,n,s,l,u,f,p,g,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const hh="(default)";class Hl{constructor(t,n){this.projectId=t,this.database=n||hh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}const h0="__type__",jC="__max__",Bc={mapValue:{}},f0="__vector__",fh="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ym(r)?4:HC(r)?9007199254740991:qC(r)?10:11:bt(28295,{value:r})}function xi(r,t){if(r===t)return!0;const n=as(r);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ql(r).isEqual(ql(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=rs(l.timestampValue),p=rs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ss(l.bytesValue).isEqual(ss(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return Ee(l.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ee(l.integerValue)===Ee(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Ee(l.doubleValue),p=Ee(u.doubleValue);return f===p?ch(f)===ch(p):isNaN(f)&&isNaN(p)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Yv(f)!==Yv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!xi(f[g],p[g])))return!1;return!0})(r,t);default:return bt(52216,{left:r})}}function Gl(r,t){return(r.values||[]).find((n=>xi(n,t)))!==void 0}function so(r,t){if(r===t)return 0;const n=as(r),s=as(t);if(n!==s)return Bt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=Ee(u.integerValue||u.doubleValue),g=Ee(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return Xv(r.timestampValue,t.timestampValue);case 4:return Xv(ql(r),ql(t));case 5:return gm(r.stringValue,t.stringValue);case 6:return(function(u,f){const p=ss(u),g=ss(f);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Bt(p[y],g[y]);if(T!==0)return T}return Bt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Bt(Ee(u.latitude),Ee(f.latitude));return p!==0?p:Bt(Ee(u.longitude),Ee(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return $v(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[fh]?.arrayValue,T=g[fh]?.arrayValue,S=Bt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:$v(y,T)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const M=gm(g[S],T[S]);if(M!==0)return M;const G=so(p[g[S]],y[T[S]]);if(G!==0)return G}return Bt(g.length,T.length)})(r.mapValue,t.mapValue);default:throw bt(23264,{he:n})}}function Xv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Bt(r,t);const n=rs(r),s=rs(t),l=Bt(n.seconds,s.seconds);return l!==0?l:Bt(n.nanos,s.nanos)}function $v(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=so(n[l],s[l]);if(u)return u}return Bt(n.length,s.length)}function ao(r){return ym(r)}function ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return gt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=ym(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${ym(n.fields[f])}`;return l+"}"})(r.mapValue):bt(61005,{value:r})}function Xc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ch(r);return t?16+Xc(t):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Xc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Zs(s.fields,((u,f)=>{l+=u.length+Xc(f)})),l})(r.mapValue);default:throw bt(13486,{value:r})}}function Zv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function _m(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function Jv(r){return!!r&&"nullValue"in r}function Wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function qC(r){return(r?.mapValue?.fields||{})[h0]?.stringValue===f0}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Zs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xl(r.arrayValue.values[n]);return t}return{...r}}function HC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jC}class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!$c(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(n)}setAll(t){let n=Xe.emptyPath(),s={},l=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=p.popLast()}f?s[p.lastSegment()]=xl(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Zs(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new zn(xl(this.value))}}function d0(r){const t=[];return Zs(r.fields,((n,s)=>{const l=new Xe([n]);if($c(s)){const u=d0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new ei(t)}class tn{constructor(t,n,s,l,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,St.min(),St.min(),St.min(),zn.empty(),0)}static newFoundDocument(t,n,s,l){return new tn(t,1,n,St.min(),s,l,0)}static newNoDocument(t,n){return new tn(t,2,n,St.min(),St.min(),zn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,St.min(),St.min(),zn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(t,n){this.position=t,this.inclusive=n}}function tE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],t.position[n]))return!1;return!0}class Fl{constructor(t,n="asc"){this.field=t,this.dir=n}}function GC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class m0{}class Oe extends m0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new QC(t,n,s):n==="array-contains"?new XC(t,s):n==="in"?new $C(t,s):n==="not-in"?new ZC(t,s):n==="array-contains-any"?new JC(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new YC(t,s):new KC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends m0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return p0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p0(r){return r.op==="and"}function g0(r){return FC(r)&&p0(r)}function FC(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function vm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(g0(r))return r.filters.map((t=>vm(t))).join(",");{const t=r.filters.map((n=>vm(n))).join(",");return`${r.op}(${t})`}}function y0(r,t){return r instanceof Oe?(function(s,l){return l instanceof Oe&&s.op===l.op&&s.field.isEqual(l.field)&&xi(s.value,l.value)})(r,t):r instanceof ii?(function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,p)=>u&&y0(f,l.filters[p])),!0):!1})(r,t):void bt(19439)}function _0(r){return r instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(_0).join(" ,")+"}"})(r):"Filter"}class QC extends Oe{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class YC extends Oe{constructor(t,n){super(t,"in",n),this.keys=v0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class KC extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=v0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function v0(r,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class XC extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Km(n)&&Gl(n.arrayValue,this.value)}}class $C extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class ZC extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class JC extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Gl(this.value.arrayValue,s)))}}class WC{constructor(t,n=null,s=[],l=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function nE(r,t=null,n=[],s=[],l=null,u=null,f=null){return new WC(r,t,n,s,l,u,f)}function Xm(r){const t=Ct(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>vm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ih(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ao(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ao(s))).join(",")),t.Te=n}return t.Te}function $m(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!GC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!y0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!eE(r.startAt,t.startAt)&&eE(r.endAt,t.endAt)}function Em(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _o{constructor(t,n=null,s=[],l=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function t2(r,t,n,s,l,u,f,p){return new _o(r,t,n,s,l,u,f,p)}function E0(r){return new _o(r)}function iE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function T0(r){return r.collectionGroup!==null}function kl(r){const t=Ct(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ue(Xe.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Fl(u,s))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Fl(Xe.keyField(),s))}return t.Ie}function Di(r){const t=Ct(r);return t.Ee||(t.Ee=e2(t,kl(r))),t.Ee}function e2(r,t){if(r.limitType==="F")return nE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Fl(l.field,u)}));const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return nE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Tm(r,t){const n=r.filters.concat([t]);return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mh(r,t,n){return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Nh(r,t){return $m(Di(r),Di(t))&&r.limitType===t.limitType}function b0(r){return`${Xm(Di(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>_0(l))).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ao(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ao(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Dh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of kl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(f,p,g){const y=tE(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,kl(s),l)||s.endAt&&!(function(f,p,g){const y=tE(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,kl(s),l))})(r,t)}function n2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function A0(r){return(t,n)=>{let s=!1;for(const l of kl(r)){const u=i2(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function i2(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?so(g,y):bt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return bt(19790,{direction:r.dir})}}class Js{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zs(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return s0(this.inner)}size(){return this.innerSize}}const r2=new fe(gt.comparator);function lr(){return r2}const S0=new fe(gt.comparator);function Dl(...r){let t=S0;for(const n of r)t=t.insert(n.key,n);return t}function w0(r){let t=S0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Hs(){return Ul()}function R0(){return Ul()}function Ul(){return new Js((r=>r.toString()),((r,t)=>r.isEqual(t)))}const s2=new fe(gt.comparator),a2=new Ue(gt.comparator);function jt(...r){let t=a2;for(const n of r)t=t.add(n);return t}const o2=new Ue(Bt);function l2(){return o2}function Zm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(t)?"-0":t}}function I0(r){return{integerValue:""+r}}function u2(r,t){return UC(t)?I0(t):Zm(r,t)}class Oh{constructor(){this._=void 0}}function c2(r,t,n){return r instanceof Ql?(function(l,u){const f={fields:{[l0]:{stringValue:o0},[c0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Ym(u)&&(u=Ch(u)),u&&(f.fields[u0]=u),{mapValue:f}})(n,t):r instanceof Yl?N0(r,t):r instanceof Kl?D0(r,t):(function(l,u){const f=C0(l,u),p=rE(f)+rE(l.Ae);return _m(f)&&_m(l.Ae)?I0(p):Zm(l.serializer,p)})(r,t)}function h2(r,t,n){return r instanceof Yl?N0(r,t):r instanceof Kl?D0(r,t):n}function C0(r,t){return r instanceof ph?(function(s){return _m(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Ql extends Oh{}class Yl extends Oh{constructor(t){super(),this.elements=t}}function N0(r,t){const n=O0(t);for(const s of r.elements)n.some((l=>xi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Kl extends Oh{constructor(t){super(),this.elements=t}}function D0(r,t){let n=O0(t);for(const s of r.elements)n=n.filter((l=>!xi(l,s)));return{arrayValue:{values:n}}}class ph extends Oh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function rE(r){return Ee(r.integerValue||r.doubleValue)}function O0(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class f2{constructor(t,n){this.field=t,this.transform=n}}function d2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Yl&&l instanceof Yl||s instanceof Kl&&l instanceof Kl?ro(s.elements,l.elements,xi):s instanceof ph&&l instanceof ph?xi(s.Ae,l.Ae):s instanceof Ql&&l instanceof Ql})(r.transform,t.transform)}class m2{constructor(t,n){this.version=t,this.transformResults=n}}class rr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rr}static exists(t){return new rr(void 0,t)}static updateTime(t){return new rr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Mh{}function M0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new x0(r.key,rr.none()):new nu(r.key,r.data,rr.none());{const n=r.data,s=zn.empty();let l=new Ue(Xe.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new Ws(r.key,s,new ei(l.toArray()),rr.none())}}function p2(r,t,n){r instanceof nu?(function(l,u,f){const p=l.value.clone(),g=aE(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):r instanceof Ws?(function(l,u,f){if(!Zc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=aE(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(V0(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ll(r,t,n,s){return r instanceof nu?(function(u,f,p,g){if(!Zc(u.precondition,f))return p;const y=u.value.clone(),T=oE(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Ws?(function(u,f,p,g){if(!Zc(u.precondition,f))return p;const y=oE(u.fieldTransforms,g,f),T=f.data;return T.setAll(V0(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,p){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,t,n)}function g2(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=C0(s.transform,l||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function sE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ro(s,l,((u,f)=>d2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class nu extends Mh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ws extends Mh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function V0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function aE(r,t,n){const s=new Map;$t(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,p=t.data.field(u.field);s.set(u.field,h2(f,p,n[l]))}return s}function oE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,c2(u,f,t))}return s}class x0 extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y2 extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _2{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&p2(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=R0();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const g=M0(f,p);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((n,s)=>sE(n,s)))&&ro(this.baseMutations,t.baseMutations,((n,s)=>sE(n,s)))}}class Jm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return s2})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Jm(t,n,s,l)}}class v2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class E2{constructor(t,n){this.count=t,this.unchangedNames=n}}var De,Gt;function T2(r){switch(r){case $.OK:return bt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function k0(r){if(r===void 0)return or("GRPC error has no .code"),$.UNKNOWN;switch(r){case De.OK:return $.OK;case De.CANCELLED:return $.CANCELLED;case De.UNKNOWN:return $.UNKNOWN;case De.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case De.INTERNAL:return $.INTERNAL;case De.UNAVAILABLE:return $.UNAVAILABLE;case De.UNAUTHENTICATED:return $.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case De.NOT_FOUND:return $.NOT_FOUND;case De.ALREADY_EXISTS:return $.ALREADY_EXISTS;case De.PERMISSION_DENIED:return $.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case De.ABORTED:return $.ABORTED;case De.OUT_OF_RANGE:return $.OUT_OF_RANGE;case De.UNIMPLEMENTED:return $.UNIMPLEMENTED;case De.DATA_LOSS:return $.DATA_LOSS;default:return bt(39323,{code:r})}}(Gt=De||(De={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function b2(){return new TextEncoder}const A2=new ts([4294967295,4294967295],0);function lE(r){const t=b2().encode(r),n=new KT;return n.update(t),new Uint8Array(n.digest())}function uE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ts([n,s],0),new ts([l,u],0)]}class Wm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ts.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(ts.fromNumber(s)));return l.compare(A2)===1&&(l=new ts([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=lE(t),[s,l]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Wm(u,l,n);return s.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=lE(t),[s,l]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Vh(St.min(),l,new fe(Bt),lr(),jt())}}class iu{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new iu(s,n,jt(),jt(),jt())}}class Jc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class U0{constructor(t,n){this.targetId=t,this.Ce=n}}class L0{constructor(t,n,s=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class cE{constructor(){this.ve=0,this.Fe=hE(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),s=jt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:bt(38017,{changeType:u})}})),new iu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=hE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S2{constructor(t){this.Ge=t,this.ze=new Map,this.je=lr(),this.Je=jc(),this.He=jc(),this.Ye=new fe(Bt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Em(u))if(s===0){const f=new gt(u.path);this.et(n,f,tn.newNoDocument(f,St.min()))}else $t(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=ss(s).toUint8Array()}catch(g){if(g instanceof a0)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Wm(f,l,u)}catch(g){return io(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Em(p.target)){const g=new gt(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,tn.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=jt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new Vh(t,n,this.Ye,this.je,s);return this.je=lr(),this.Je=jc(),this.He=jc(),this.Ye=new fe(Bt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new cE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ue(Bt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ue(Bt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new cE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function jc(){return new fe(gt.comparator)}function hE(){return new fe(gt.comparator)}const w2={asc:"ASCENDING",desc:"DESCENDING"},R2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I2={and:"AND",or:"OR"};class C2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bm(r,t){return r.useProto3Json||Ih(t)?t:{value:t}}function gh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function P0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function N2(r,t){return gh(r,t.toTimestamp())}function Oi(r){return $t(!!r,49232),St.fromTimestamp((function(n){const s=rs(n);return new ue(s.seconds,s.nanos)})(r))}function tp(r,t){return Am(r,t).canonicalString()}function Am(r,t){const n=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function z0(r){const t=ae.fromString(r);return $t(G0(t),10190,{key:t.toString()}),t}function Sm(r,t){return tp(r.databaseId,t.path)}function em(r,t){const n=z0(t);if(n.get(1)!==r.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(j0(n))}function B0(r,t){return tp(r.databaseId,t)}function D2(r){const t=z0(r);return t.length===4?ae.emptyPath():j0(t)}function wm(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function j0(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fE(r,t,n){return{name:Sm(r,t),fields:n.value.mapValue.fields}}function O2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:bt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?($t(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):($t(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(y){const T=y.code===void 0?$.UNKNOWN:k0(y.code);return new rt(T,y.message||"")})(f);n=new L0(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=em(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):St.min(),p=new zn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(l,u,f,p),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Jc(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=em(r,s.document),u=s.readTime?Oi(s.readTime):St.min(),f=tn.newNoDocument(l,u),p=s.removedTargetIds||[];n=new Jc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=em(r,s.document),u=s.removedTargetIds||[];n=new Jc([],u,l,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new E2(l,u),p=s.targetId;n=new U0(p,f)}}return n}function M2(r,t){let n;if(t instanceof nu)n={update:fE(r,t.key,t.value)};else if(t instanceof x0)n={delete:Sm(r,t.key)};else if(t instanceof Ws)n={update:fE(r,t.key,t.data),updateMask:j2(t.fieldMask)};else{if(!(t instanceof y2))return bt(16599,{Vt:t.type});n={verify:Sm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ph)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw bt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:N2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(r,t.precondition)),n}function V2(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Oi(l.updateTime):Oi(u);return f.isEqual(St.min())&&(f=Oi(u)),new m2(f,l.transformResults||[])})(n,t)))):[]}function x2(r,t){return{documents:[B0(r,t.path)]}}function k2(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=B0(r,l);const u=(function(y){if(y.length!==0)return H0(ii.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(M){return{field:Qa(M.field),direction:P2(M.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=bm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function U2(r){let t=D2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){$t(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const M=q0(S);return M instanceof ii&&g0(M)?M.getFilters():[M]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((M=>(function(J){return new Fl(Ya(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,Ih(M)?null:M})(n.limit));let g=null;n.startAt&&(g=(function(S){const M=!!S.before,G=S.values||[];return new dh(G,M)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const M=!S.before,G=S.values||[];return new dh(G,M)})(n.endAt)),t2(t,l,f,u,p,"F",g,y)}function L2(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function q0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(n.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return Oe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Oe.create(Ya(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>q0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(n.compositeFilter.op))})(r):bt(30097,{filter:r})}function P2(r){return w2[r]}function z2(r){return R2[r]}function B2(r){return I2[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Xe.fromServerFormat(r.fieldPath)}function H0(r){return r instanceof Oe?(function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:z2(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((l=>H0(l)));return s.length===1?s[0]:{compositeFilter:{op:B2(n.op),filters:s}}})(r):bt(54877,{filter:r})}function j2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function G0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $r{constructor(t,n,s,l,u=St.min(),f=St.min(),p=$e.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new $r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class q2{constructor(t){this.yt=t}}function H2(r){const t=U2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mh(t,t.limit,"L"):t}class G2{constructor(){this.Cn=new F2}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(is.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(is.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class F2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ue(ae.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ue(ae.comparator)).toArray()}}const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(F0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const mE="LruGarbageCollector",Q2=1048576;function pE([r,t],[n,s]){const l=Bt(r,n);return l===0?Bt(t,s):l}class Y2{constructor(t){this.Ir=t,this.buffer=new Ue(pE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(mE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?at(mE,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class X2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Rh.ce);const s=new Y2(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(dE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,f,p,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ga()<=zt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function $2(r,t){return new X2(r,t)}class Z2{constructor(){this.changes=new Js((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class J2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class W2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Ll(s.mutation,l,ei.empty(),ue.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=jt()){const l=Hs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let f=Dl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Hs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,jt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,s,l){let u=lr();const f=Ul(),p=(function(){return Ul()})();return n.forEach(((g,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Ws)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Ll(T.mutation,y,T.mutation.getFieldMask(),ue.now())):f.set(y.key,ei.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>p.set(y,new J2(T,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Ul();let l=new fe(((f,p)=>f-p)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||ei.empty();T=p.applyToLocalView(y,T),s.set(g,T);const S=(l.get(p.batchId)||jt()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=R0();T.forEach((M=>{if(!u.has(M)){const G=M0(n.get(M),s.get(M));G!==null&&S.set(M,G),u=u.add(M)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):T0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):Z.resolve(Hs());let p=jl,g=u;return f.next((y=>Z.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((M=>{g=g.insert(T,M)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,jt()))).next((T=>({batchId:p,changes:w0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let l=Dl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(t,u).next((p=>Z.forEach(p,(g=>{const y=(function(S,M){return new _o(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((T=>{T.forEach(((S,M)=>{f=f.insert(S,M)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((f=>{u.forEach(((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))}));let p=Dl();return f.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Ll(T.mutation,y,ei.empty(),ue.now()),Dh(n,y)&&(p=p.insert(g,y))})),p}))}}class tN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:H2(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),Z.resolve()}}class eN{constructor(){this.overlays=new fe(gt.comparator),this.qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Hs();return Z.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const l=Hs(),u=n.length+1,f=new gt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new fe(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Hs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Hs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return Z.resolve(p)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new v2(n,s));let u=this.qr.get(n);u===void 0&&(u=jt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class nN{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class ep{constructor(){this.Qr=new Ue(Be.$r),this.Ur=new Ue(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Be(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Be(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new ae([])),s=new Be(n,t),l=new Be(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ae([])),s=new Be(n,t),l=new Be(n,t+1);let u=jt();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Be(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Bt(t.Yr,n.Yr)}static Kr(t,n){return Bt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}class iN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Be.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _2(u,n,s,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new Be(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Be(n,0),l=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ue(Bt);return n.forEach((l=>{const u=new Be(l,0),f=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new Be(new gt(u),0);let p=new Ue(Bt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),f),Z.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(l=>{const u=new Be(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Be(n,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rN{constructor(t){this.ri=t,this.docs=(function(){return new fe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=lr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=lr();const f=n.path,p=new gt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||MC(OC(T),s)<=0||(l.has(T.key)||Dh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,l){bt(9500)}ii(t,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new sN(this)}getSize(t){return Z.resolve(this.size)}}class sN extends Z2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class aN{constructor(t){this.persistence=t,this.si=new Js((n=>Xm(n)),$m),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new ep,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Pr(n),Z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this._i.containsKey(n))}}class Q0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new nN,this.referenceDelegate=t(this),this.Pi=new aN(this),this.indexManager=new G2,this.remoteDocumentCache=(function(l){return new rN(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new q2(n),this.Ii=new tN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new eN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new iN(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const l=new oN(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class oN extends xC{constructor(t){super(),this.currentSequenceNumber=t}}class np{constructor(t){this.persistence=t,this.Ri=new ep,this.Vi=null}static mi(t){return new np(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=gt.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class yh{constructor(t,n){this.persistence=t,this.pi=new Js((s=>LC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=$2(this,n)}static mi(t,n){return new yh(t,n)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return Z.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?Z.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,n).next((p=>{p||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xc(t.data.value)),n}br(t,n,s){return Z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ip{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=jt(),l=jt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ip(t,n.fromCache,s,l)}}class lN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return P1()?8:kC(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new lN;return this.Ss(t,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Ga()<=zt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ga()<=zt.DEBUG&&at("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ga()<=zt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):Z.resolve())}ys(t,n){if(iE(n))return Z.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=mh(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=jt(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(t,mh(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,l){return iE(n)||l.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?Z.resolve(null):(Ga()<=zt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(n)),this.vs(t,f,n,DC(l,jl)).next((p=>p)))}))}Ds(t,n){let s=new Ue(A0(t));return n.forEach(((l,u)=>{Dh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return Ga()<=zt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ps.getDocumentsMatchingQuery(t,n,is.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const rp="LocalStore",cN=3e8;class hN{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new fe(Bt),this.xs=new Js((u=>Xm(u)),$m),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new W2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function fN(r,t,n,s){return new hN(r,t,n,s)}async function Y0(r,t){const n=Ct(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=jt();for(const y of l){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function dN(r,t){const n=Ct(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,M=S.keys();let G=Z.resolve();return M.forEach((J=>{G=G.next((()=>T.getEntry(g,J))).next((et=>{const W=y.docVersions.get(J);$t(W!==null,48541),et.version.compareTo(W)<0&&(S.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),T.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=jt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function K0(r){const t=Ct(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function mN(r,t){const n=Ct(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const M=l.get(S);if(!M)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let G=M.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken($e.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,s)),l=l.insert(S,G),(function(et,W,ft){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=cN?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,G,T)&&p.push(n.Pi.updateTargetData(u,G))}));let g=lr(),y=jt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(pN(u,f,t.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!s.isEqual(St.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return Z.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function pN(r,t,n){let s=jt(),l=jt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=lr();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):at(rp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function gN(r,t){const n=Ct(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function yN(r,t){const n=Ct(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,Z.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new $r(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Rm(r,t,n){const s=Ct(r),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!yo(f))throw f;at(rp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function gE(r,t,n){const s=Ct(r);let l=St.min(),u=jt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,T){const S=Ct(g),M=S.xs.get(T);return M!==void 0?Z.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,T)})(s,f,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?l:St.min(),n?u:jt()))).next((p=>(_N(s,n2(t),p),{documents:p,Qs:u})))))}function _N(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class yE{constructor(){this.activeTargetIds=l2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vN{constructor(){this.Mo=new yE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new yE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EN{Oo(t){}shutdown(){}}const _E="ConnectivityMonitor";class vE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(_E,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(_E,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Im(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const nm="RestConnection",TN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const f=Im(),p=this.zo(t,n.toUriEncodedString());at(nm,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),T=ho(y);return this.Jo(t,p,g,s,T).then((S=>(at(nm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw io(nm,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,n,s,l,u,f){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=TN[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class AN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class SN extends bN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const f=Im();return new Promise(((p,g)=>{const y=new XT;y.setWithCredentials(!0),y.listenOnce($T.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const S=y.getResponseJson();at(Je,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case Kc.TIMEOUT:at(Je,`RPC '${t}' ${f} timed out`),g(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const M=y.getStatus();if(at(Je,`RPC '${t}' ${f} failed with status:`,M,"response text:",y.getResponseText()),M>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const et=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(J.status);g(new rt(et,J.message))}else g(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new rt($.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Je,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(l);at(Je,`RPC '${t}' ${f} sending request:`,l),y.send(n,"POST",T,s,15)}))}T_(t,n,s){const l=Im(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=WT(),p=JT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");at(Je,`Creating RPC '${t}' stream ${l}: ${T}`,g);const S=f.createWebChannel(T,g);this.I_(S);let M=!1,G=!1;const J=new AN({Yo:W=>{G?at(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(M||(at(Je,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),at(Je,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),et=(W,ft,Et)=>{W.listen(ft,(dt=>{try{Et(dt)}catch(Mt){setTimeout((()=>{throw Mt}),0)}}))};return et(S,Nl.EventType.OPEN,(()=>{G||(at(Je,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(S,Nl.EventType.CLOSE,(()=>{G||(G=!0,at(Je,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),et(S,Nl.EventType.ERROR,(W=>{G||(G=!0,io(Je,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),et(S,Nl.EventType.MESSAGE,(W=>{if(!G){const ft=W.data[0];$t(!!ft,16349);const Et=ft,dt=Et?.error||Et[0]?.error;if(dt){at(Je,`RPC '${t}' stream ${l} received error:`,dt);const Mt=dt.status;let qt=(function(A){const w=De[A];if(w!==void 0)return k0(w)})(Mt),wt=dt.message;qt===void 0&&(qt=$.INTERNAL,wt="Unknown error status: "+Mt+" with message "+dt.message),G=!0,J.a_(new rt(qt,wt)),S.close()}else at(Je,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}})),et(p,ZT.STAT_EVENT,(W=>{W.stat===pm.PROXY?at(Je,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===pm.NOPROXY&&at(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function im(){return typeof document<"u"?document:null}function xh(r){return new C2(r,!0)}class X0{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const EE="PersistentStream";class $0{constructor(t,n,s,l,u,f,p,g){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(EE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(at(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wN extends $0{constructor(t,n,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=O2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Oi(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=wm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Em(g)?{documents:x2(u,g)}:{query:k2(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=P0(u,f.resumeToken);const y=bm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){p.readTime=gh(u,f.snapshotVersion.toTimestamp());const y=bm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=L2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=wm(this.serializer),n.removeTarget=t,this.q_(n)}}class RN extends $0{constructor(t,n,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=V2(t.writeResults,t.commitTime),s=Oi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=wm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>M2(this.serializer,s)))};this.q_(n)}}class IN{}class CN extends IN{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Am(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt($.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,Am(n,s),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class DN{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ta(this)&&(at(Xs,"Restarting streams for network reachability change."),await(async function(g){const y=Ct(g);y.Ea.add(4),await ru(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Ra=new NN(s,l)}}async function kh(r){if(ta(r))for(const t of r.da)await t(!0)}async function ru(r){for(const t of r.da)await t(!1)}function Z0(r,t){const n=Ct(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),lp(n)?op(n):vo(n).O_()&&ap(n,t))}function sp(r,t){const n=Ct(r),s=vo(n);n.Ia.delete(t),s.O_()&&J0(n,t),n.Ia.size===0&&(s.O_()?s.L_():ta(n)&&n.Ra.set("Unknown"))}function ap(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vo(r).Y_(t)}function J0(r,t){r.Va.Ue(t),vo(r).Z_(t)}function op(r){r.Va=new S2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function lp(r){return ta(r)&&!vo(r).x_()&&r.Ia.size>0}function ta(r){return Ct(r).Ea.size===0}function W0(r){r.Va=void 0}async function ON(r){r.Ra.set("Online")}async function MN(r){r.Ia.forEach(((t,n)=>{ap(r,t)}))}async function VN(r,t){W0(r),lp(r)?(r.Ra.ha(t),op(r)):r.Ra.set("Unknown")}async function xN(r,t,n){if(r.Ra.set("Online"),t instanceof L0&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){at(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await _h(r,s)}else if(t instanceof Jc?r.Va.Ze(t):t instanceof U0?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await K0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),J0(u,g);const S=new $r(T.target,g,y,T.sequenceNumber);ap(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){at(Xs,"Failed to raise snapshot:",s),await _h(r,s)}}async function _h(r,t,n){if(!yo(t))throw t;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),n||(n=()=>K0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Xs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kh(r)}))}function tb(r,t){return t().catch((n=>_h(r,n,t)))}async function Uh(r){const t=Ct(r),n=os(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;kN(t);)try{const l=await gN(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,UN(t,l)}catch(l){await _h(t,l)}eb(t)&&nb(t)}function kN(r){return ta(r)&&r.Ta.length<10}function UN(r,t){r.Ta.push(t);const n=os(r);n.O_()&&n.X_&&n.ea(t.mutations)}function eb(r){return ta(r)&&!os(r).x_()&&r.Ta.length>0}function nb(r){os(r).start()}async function LN(r){os(r).ra()}async function PN(r){const t=os(r);for(const n of r.Ta)t.ea(n.mutations)}async function zN(r,t,n){const s=r.Ta.shift(),l=Jm.from(s,t,n);await tb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Uh(r)}async function BN(r,t){t&&os(r).X_&&await(async function(s,l){if((function(f){return T2(f)&&f!==$.ABORTED})(l.code)){const u=s.Ta.shift();os(s).B_(),await tb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Uh(s)}})(r,t),eb(r)&&nb(r)}async function TE(r,t){const n=Ct(r);n.asyncQueue.verifyOperationInProgress(),at(Xs,"RemoteStore received new credentials");const s=ta(n);n.Ea.add(3),await ru(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await kh(n)}async function jN(r,t){const n=Ct(r);t?(n.Ea.delete(2),await kh(n)):t||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,s,l){const u=Ct(n);return u.sa(),new wN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:ON.bind(null,r),t_:MN.bind(null,r),r_:VN.bind(null,r),H_:xN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),lp(r)?op(r):r.Ra.set("Unknown")):(await r.ma.stop(),W0(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,l){const u=Ct(n);return u.sa(),new RN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:LN.bind(null,r),r_:BN.bind(null,r),ta:PN.bind(null,r),na:zN.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Uh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class up{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const f=Date.now()+s,p=new up(t,n,f,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(r,t){if(or("AsyncQueue",`${t}: ${r}`),yo(r))return new rt($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class bE{constructor(){this.ga=new fe(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class lo{constructor(t,n,s,l,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new lo(t,n,Ja.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class qN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HN{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ct(n),u=l.queries;l.queries=AE(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function AE(){return new Js((r=>b0(r)),Nh)}async function GN(r,t){const n=Ct(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new qN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=cp(f,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&hp(n)}async function FN(r,t){const n=Ct(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QN(r,t){const n=Ct(r);let s=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(s=!0);f.wa=l}}s&&hp(n)}function YN(r,t,n){const s=Ct(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function hp(r){r.Ca.forEach((t=>{t.next()}))}var Cm,SE;(SE=Cm||(Cm={})).Ma="default",SE.Cache="cache";class KN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}class ib{constructor(t){this.key=t}}class rb{constructor(t){this.key=t}}class XN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=A0(t),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new bE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const M=l.get(T),G=Dh(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;M&&G?M.data.isEqual(G.data)?J!==et&&(s.track({type:3,doc:G}),W=!0):this.su(M,G)||(s.track({type:2,doc:G}),W=!0,(g&&this.eu(G,g)>0||y&&this.eu(G,y)<0)&&(p=!0)):!M&&G?(s.track({type:0,doc:G}),W=!0):M&&!G&&(s.track({type:1,doc:M}),W=!0,(g||y)&&(p=!0)),W&&(G?(f=f.add(G),u=et?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(G,J){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:W})}};return et(G)-et(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new lo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new rb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new ib(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class $N{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class ZN{constructor(t){this.key=t,this.hu=!1}}class JN{constructor(t,n,s,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Js((p=>b0(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(gt.comparator),this.Au=new Map,this.Ru=new ep,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WN(r,t,n=!0){const s=cb(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await sb(s,t,n,!0),l}async function tD(r,t){const n=cb(r);await sb(n,t,!0,!1)}async function sb(r,t,n,s){const l=await yN(r.localStore,Di(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await eD(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&Z0(r.remoteStore,l),p}async function eD(r,t,n,s,l){r.pu=(S,M,G)=>(async function(et,W,ft,Et){let dt=W.view.ru(ft);dt.Cs&&(dt=await gE(et.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,dt))));const Mt=Et&&Et.targetChanges.get(W.targetId),qt=Et&&Et.targetMismatches.get(W.targetId)!=null,wt=W.view.applyChanges(dt,et.isPrimaryClient,Mt,qt);return RE(et,W.targetId,wt.au),wt.snapshot})(r,S,M,G);const u=await gE(r.localStore,t,!0),f=new XN(t,u.Qs),p=f.ru(u.documents),g=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(p,r.isPrimaryClient,g);RE(r,n,y.au);const T=new $N(t,n,f);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function nD(r,t,n){const s=Ct(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!Nh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&sp(s.remoteStore,l.targetId),Nm(s,l.targetId)})).catch(go)):(Nm(s,l.targetId),await Rm(s.localStore,l.targetId,!0))}async function iD(r,t){const n=Ct(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),sp(n.remoteStore,s.targetId))}async function rD(r,t,n){const s=hD(r);try{const l=await(function(f,p){const g=Ct(f),y=ue.now(),T=p.reduce(((G,J)=>G.add(J.key)),jt());let S,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=lr(),et=jt();return g.Ns.getEntries(G,T).next((W=>{J=W,J.forEach(((ft,Et)=>{Et.isValidDocument()||(et=et.add(ft))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,J))).next((W=>{S=W;const ft=[];for(const Et of p){const dt=g2(Et,S.get(Et.key).overlayedDocument);dt!=null&&ft.push(new Ws(Et.key,dt,d0(dt.value.mapValue),rr.exists(!0)))}return g.mutationQueue.addMutationBatch(G,y,ft,p)})).next((W=>{M=W;const ft=W.applyToLocalDocumentSet(S,et);return g.documentOverlayCache.saveOverlays(G,W.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:w0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new fe(Bt)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,n),await su(s,l.changes),await Uh(s.remoteStore)}catch(l){const u=cp(l,"Failed to persist write");n.reject(u)}}async function ab(r,t){const n=Ct(r);try{const s=await mN(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?$t(f.hu,14607):l.removedDocuments.size>0&&($t(f.hu,42227),f.hu=!1))})),await su(n,s,t)}catch(s){await go(s)}}function wE(r,t,n){const s=Ct(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=Ct(f);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&hp(g)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sD(r,t,n){const s=Ct(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let f=new fe(gt.comparator);f=f.insert(u,tn.newNoDocument(u,St.min()));const p=jt().add(u),g=new Vh(St.min(),new Map,new fe(Bt),f,p);await ab(s,g),s.du=s.du.remove(u),s.Au.delete(t),dp(s)}else await Rm(s.localStore,t,!1).then((()=>Nm(s,t,n))).catch(go)}async function aD(r,t){const n=Ct(r),s=t.batch.batchId;try{const l=await dN(n.localStore,t);lb(n,s,null),ob(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,l)}catch(l){await go(l)}}async function oD(r,t,n){const s=Ct(r);try{const l=await(function(f,p){const g=Ct(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>($t(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);lb(s,t,n),ob(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await su(s,l)}catch(l){await go(l)}}function ob(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function lb(r,t,n){const s=Ct(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Nm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||ub(r,s)}))}function ub(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(sp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),dp(r))}function RE(r,t,n){for(const s of n)s instanceof ib?(r.Ru.addReference(s.key,t),lD(r,s)):s instanceof rb?(at(fp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||ub(r,s.key)):bt(19791,{wu:s})}function lD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(at(fp,"New document in limbo: "+n),r.Eu.add(s),dp(r))}function dp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new gt(ae.fromString(t)),s=r.fu.next();r.Au.set(s,new ZN(n)),r.du=r.du.insert(n,s),Z0(r.remoteStore,new $r(Di(E0(n.path)),s,"TargetPurposeLimboResolution",Rh.ce))}}async function su(r,t,n){const s=Ct(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=ip.As(g.targetId,y);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(g,y){const T=Ct(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(M=>Z.forEach(M.Es,(G=>T.persistence.referenceDelegate.addReference(S,M.targetId,G))).next((()=>Z.forEach(M.ds,(G=>T.persistence.referenceDelegate.removeReference(S,M.targetId,G)))))))))}catch(S){if(!yo(S))throw S;at(rp,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const G=T.Ms.get(M),J=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(M,et)}}})(s.localStore,u))}async function uD(r,t){const n=Ct(r);if(!n.currentUser.isEqual(t)){at(fp,"User change. New user:",t.toKey());const s=await Y0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new rt($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await su(n,s.Ls)}}function cD(r,t){const n=Ct(r),s=n.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let l=jt();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function cb(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sD.bind(null,t),t.Pu.H_=QN.bind(null,t.eventManager),t.Pu.yu=YN.bind(null,t.eventManager),t}function hD(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oD.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return fN(this.persistence,new uN,t.initialUser,this.serializer)}Cu(t){return new Q0(np.mi,this.serializer)}Du(t){return new vN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class fD extends vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new K2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Q0((s=>yh.mi(s,n)),this.serializer)}}class Dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uD.bind(null,this.syncEngine),await jN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HN})()}createDatastore(t){const n=xh(t.databaseInfo.databaseId),s=(function(u){return new SN(u)})(t.databaseInfo);return(function(u,f,p,g){return new CN(u,f,p,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,f,p){return new DN(s,l,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return vE.v()?new vE:new EN})())}createSyncEngine(t,n){return(function(l,u,f,p,g,y,T){const S=new JN(l,u,f,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ct(n);at(Xs,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class dD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):or("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ls="FirestoreClient";class mD{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{at(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(at(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=cp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function rm(r,t){r.asyncQueue.verifyOperationInProgress(),at(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Y0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function IE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await pD(r);at(ls,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>TE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>TE(t.remoteStore,l))),r._onlineComponents=t}async function pD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ls,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new vh)}}else at(ls,"Using default OfflineComponentProvider"),await rm(r,new fD(void 0));return r._offlineComponents}async function hb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ls,"Using user provided OnlineComponentProvider"),await IE(r,r._uninitializedComponentsProvider._online)):(at(ls,"Using default OnlineComponentProvider"),await IE(r,new Dm))),r._onlineComponents}function gD(r){return hb(r).then((t=>t.syncEngine))}async function yD(r){const t=await hb(r),n=t.eventManager;return n.onListen=WN.bind(null,t.syncEngine),n.onUnlisten=nD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iD.bind(null,t.syncEngine),n}function _D(r,t,n={}){const s=new es;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new dD({next:M=>{T.Nu(),f.enqueueAndForget((()=>FN(u,S))),M.fromCache&&g.source==="server"?y.reject(new rt($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new KN(p,T,{includeMetadataChanges:!0,qa:!0});return GN(u,S)})(await yD(r),r.asyncQueue,t,n,s))),s.promise}function fb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const CE=new Map;const db="firestore.googleapis.com",NE=!0;class DE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=db,this.ssl=NE}else this.host=t.host,this.ssl=t.ssl??NE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=F0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Q2)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vC;switch(s.type){case"firstParty":return new AC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=CE.get(n);s&&(at("ComponentProvider","Removing Datastore"),CE.delete(n),s.terminate())})(this),Promise.resolve()}}function vD(r,t,n,s={}){r=uh(r,Lh);const l=ho(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(sT(`https://${p}`),aT("Firestore",!0)),u.host!==db&&u.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:s};if(!Gs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=We.MOCK_USER;else{y=N1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new We(S)}r._authCredentials=new EC(new e0(y,T))}}class cs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new cs(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(eu(n,je._jsonSchema))return new je(t,s||null,new gt(ae.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Me("string",je._jsonSchemaVersion),referencePath:Me("string")};class ns extends cs{constructor(t,n,s){super(t,n,E0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new gt(t))}withConverter(t){return new ns(this.firestore,t,this._path)}}function mb(r,t,...n){if(r=an(r),n0("collection","path",t),r instanceof Lh){const s=ae.fromString(t,...n);return Hv(s),new ns(r,null,s)}{if(!(r instanceof je||r instanceof ns))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return Hv(s),new ns(r.firestore,null,s)}}function ED(r,t,...n){if(r=an(r),arguments.length===1&&(t=Fm.newId()),n0("doc","path",t),r instanceof Lh){const s=ae.fromString(t,...n);return qv(s),new je(r,null,new gt(s))}{if(!(r instanceof je||r instanceof ns))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return qv(s),new je(r.firestore,r instanceof ns?r.converter:null,new gt(s))}}const OE="AsyncQueue";class ME{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X0(this,"async_queue_retry"),this._c=()=>{const s=im();s&&at(OE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;at(OE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",VE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=up.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function VE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class mp extends Lh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new ME,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ME(t),this._firestoreClient=void 0,await t}}}function TD(r,t){const n=typeof r=="object"?r:cT(),s=typeof r=="string"?r:hh,l=km(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=I1("firestore");u&&vD(l,...u)}return l}function pb(r){if(r._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bD(r),r._firestoreClient}function bD(r){const t=r._freezeSettings(),n=(function(l,u,f,p){return new BC(l,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,fb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new mD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn($e.fromBase64String(t))}catch(n){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(eu(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Me("string",Bn._jsonSchemaVersion),bytes:Me("string")};class pp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class gp{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(eu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Me("string",Mi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class Vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(eu(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Vi(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Me("string",Vi._jsonSchemaVersion),vectorValues:Me("object")};const AD=/^__.*__$/;class SD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ws(t,this.data,this.fieldMask,n,this.fieldTransforms):new nu(t,this.data,n,this.fieldTransforms)}}function gb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class yp{constructor(t,n,s,l,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new yp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(gb(this.Ac)&&AD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||xh(t)}Cc(t,n,s,l=!1){return new yp({Ac:t,methodName:n,Dc:s,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yb(r){const t=r._freezeSettings(),n=xh(r._databaseId);return new wD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function RD(r,t,n,s,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);Eb("Data must be an object, but it was:",f,s);const p=_b(s,f);let g,y;if(u.merge)g=new ei(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const M=CD(t,S,n);if(!f.contains(M))throw new rt($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);DD(T,M)||T.push(M)}g=new ei(T),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new SD(new zn(p),g,y)}class _p extends gp{_toFieldTransform(t){return new f2(t.path,new Ql)}isEqual(t){return t instanceof _p}}function ID(r,t,n,s=!1){return vp(n,r.Cc(s?4:3,t))}function vp(r,t){if(vb(r=an(r)))return Eb("Unsupported field value:",t,r),_b(r,t);if(r instanceof gp)return(function(s,l){if(!gb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const p of s){let g=vp(p,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=an(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return u2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ue.fromDate(s);return{timestampValue:gh(l.serializer,u)}}if(s instanceof ue){const u=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gh(l.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:P0(l.serializer,s._byteString)};if(s instanceof je){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Vi)return(function(f,p){return{mapValue:{fields:{[h0]:{stringValue:f0},[fh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Zm(p.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${wh(s)}`)})(r,t)}function _b(r,t){const n={};return s0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(r,((s,l)=>{const u=vp(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof Mi||r instanceof Bn||r instanceof je||r instanceof gp||r instanceof Vi)}function Eb(r,t,n){if(!vb(n)||!i0(n)){const s=wh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function CD(r,t,n){if((t=an(t))instanceof pp)return t._internalPath;if(typeof t=="string")return Tb(r,t);throw Eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ND=new RegExp("[~\\*/\\[\\]]");function Tb(r,t,n){if(t.search(ND)>=0)throw Eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new pp(...t.split("."))._internalPath}catch{throw Eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Eh(r,t,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new rt($.INVALID_ARGUMENT,p+r+g)}function DD(r,t){return r.some((n=>n.isEqual(t)))}class bb{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ph("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OD extends bb{data(){return super.data()}}function Ph(r,t){return typeof t=="string"?Tb(r,t):t instanceof pp?t._internalPath:t._delegate._internalPath}function MD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class Tp extends Ep{}function VD(r,t,...n){let s=[];t instanceof Ep&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof bp)).length,p=u.filter((g=>g instanceof zh)).length;if(f>1||f>0&&p>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class zh extends Tp{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new zh(t,n,s)}_apply(t){const n=this._parse(t);return Ab(t._query,n),new cs(t.firestore,t.converter,Tm(t._query,n))}_parse(t){const n=yb(t.firestore);return(function(u,f,p,g,y,T,S){let M;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){UE(S,T);const J=[];for(const et of S)J.push(kE(g,u,et));M={arrayValue:{values:J}}}else M=kE(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||UE(S,T),M=ID(p,f,S,T==="in"||T==="not-in");return Oe.create(y,T,M)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function xE(r,t,n){const s=t,l=Ph("where",r);return zh._create(l,s,n)}class bp extends Ep{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new bp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)Ab(f,g),f=Tm(f,g)})(t._query,n),new cs(t.firestore,t.converter,Tm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ap extends Tp{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ap(t,n)}_apply(t){const n=(function(l,u,f){if(l.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(u,f)})(t._query,this._field,this._direction);return new cs(t.firestore,t.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new _o(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function xD(r,t="asc"){const n=t,s=Ph("orderBy",r);return Ap._create(s,n)}class Sp extends Tp{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Sp(t,n,s)}_apply(t){return new cs(t.firestore,t.converter,mh(t._query,this._limit,this._limitType))}}function kD(r){return Sp._create("limit",r,"F")}function kE(r,t,n){if(typeof(n=an(n))=="string"){if(n==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T0(t)&&n.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ae.fromString(n));if(!gt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zv(r,new gt(s))}if(n instanceof je)return Zv(r,n._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function UE(r,t){if(!Array.isArray(r)||r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ab(r,t){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class UD{convertValue(t,n="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Zs(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[fh].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new Vi(n)}convertGeoPoint(t){return new Mi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ch(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const n=rs(t);return new ue(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);$t(G0(s),9688,{name:t});const l=new Hl(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return l.isEqual(n)||or(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function LD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wa extends bb{constructor(t,n,s,l,u,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ph("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Me("string",Wa._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Wc extends Wa{data(t={}){return super.data(t)}}class to{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Hc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Wc(this._firestore,this._userDataWriter,s.key,s,new Hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Hc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Hc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:PD(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Me("string",to._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class zD extends UD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function BD(r){r=uh(r,cs);const t=uh(r.firestore,mp),n=pb(t),s=new zD(t);return MD(r._query),_D(n,r._query).then((l=>new to(t,s,r,l)))}function jD(r,t){const n=uh(r.firestore,mp),s=ED(r),l=LD(r.converter,t);return qD(n,[RD(yb(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,rr.exists(!1))]).then((()=>s))}function qD(r,t){return(function(s,l){const u=new es;return s.asyncQueue.enqueueAndForget((async()=>rD(await gD(s),l,u))),u.promise})(pb(r),t)}function HD(){return new _p("serverTimestamp")}(function(t,n=!0){(function(l){po=l})(fo),eo(new Fs("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new mp(new TC(s.getProvider("auth-internal")),new SC(f,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,T)})(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Wr(Pv,zv,t),Wr(Pv,zv,"esm2020")})();const GD={apiKey:"AIzaSyDlFYcFeyRCfwegTYfw03qVwi0USsKYGJU",authDomain:"jeuxvico-f4efd.firebaseapp.com",projectId:"jeuxvico-f4efd",storageBucket:"jeuxvico-f4efd.firebasestorage.app",messagingSenderId:"899860542308",appId:"1:899860542308:web:ea4ddd3d423a72c7090071",measurementId:"G-KSBPWP5TRX"},Sb=uT(GD),Pl=yC(Sb),wb=TD(Sb);function FD({user:r}){const[t,n]=Pt.useState(!0),[s,l]=Pt.useState(""),[u,f]=Pt.useState(""),[p,g]=Pt.useState(""),[y,T]=Pt.useState(""),[S,M]=Pt.useState(!1),G=async J=>{J.preventDefault(),T(""),M(!0);try{if(t)await nI(Pl,s,u);else{const et=await eI(Pl,s,u);await rI(et.user,{displayName:p})}}catch(et){T(et.message)}finally{M(!1)}};return r?st.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded-lg shadow-sm",children:[st.jsxs("div",{className:"text-sm",children:[st.jsx("span",{className:"text-gray-500",children:"Logged in as "}),st.jsx("span",{className:"font-bold",children:r.displayName||r.email})]}),st.jsx("button",{onClick:()=>Pl.signOut(),className:"text-xs text-red-600 hover:text-red-800 underline",children:"Sign Out"})]}):st.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm",children:[st.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:t?"Login":"Sign Up"}),st.jsxs("form",{onSubmit:G,className:"flex flex-col gap-3",children:[!t&&st.jsx("input",{type:"text",placeholder:"Username",value:p,onChange:J=>g(J.target.value),className:"p-2 border rounded",required:!0}),st.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:J=>l(J.target.value),className:"p-2 border rounded",required:!0}),st.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:J=>f(J.target.value),className:"p-2 border rounded",required:!0}),y&&st.jsx("p",{className:"text-red-500 text-xs",children:y}),st.jsx("button",{type:"submit",disabled:S,className:"bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50",children:S?"Loading...":t?"Login":"Sign Up"})]}),st.jsx("button",{onClick:()=>n(!t),className:"mt-4 text-sm text-blue-600 hover:underline w-full text-center",children:t?"Need an account? Sign Up":"Already have an account? Login"})]})}function QD({gridSize:r,refreshTrigger:t}){const[n,s]=Pt.useState([]),[l,u]=Pt.useState(!0),[f,p]=Pt.useState(""),[g,y]=Pt.useState(null);return Pt.useEffect(()=>{const T=LT(Pl,S=>{y(S?S.uid:null)});return()=>T()},[]),Pt.useEffect(()=>{(async()=>{u(!0),p("");try{const S=VD(mb(wb,"scores"),xE("gridSize","==",r),xE("timeSeconds",">",1e3),xD("timeSeconds","asc"),kD(10)),M=await BD(S),G=[];M.forEach(J=>{G.push({id:J.id,...J.data()})}),s(G)}catch(S){console.error("Error fetching leaderboard:",S),p(S.message)}finally{u(!1)}})()},[r,t]),l?st.jsx("div",{className:"text-sm text-gray-500",children:"Loading top scores..."}):f?st.jsxs("div",{className:"text-sm text-red-500",children:["Error loading scores: ",f]}):st.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md w-full max-w-sm",children:[st.jsxs("h3",{className:"font-bold text-lg mb-3 border-b pb-2",children:["Top 10 Scores (",r,"x",r,")"]}),n.length===0?st.jsx("p",{className:"text-gray-500 text-sm italic",children:"No scores yet. Be the first!"}):st.jsx("ul",{className:"space-y-2",children:n.map((T,S)=>st.jsxs("li",{className:`flex justify-between text-sm items-center ${T.userId===g?"bg-blue-50 p-1 rounded":""}`,children:[st.jsxs("span",{className:"flex items-center gap-2",children:[st.jsx("span",{className:`
                    w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold
                    ${S===0?"bg-yellow-100 text-yellow-700":S===1?"bg-gray-100 text-gray-700":S===2?"bg-orange-100 text-orange-700":"text-gray-500"}
                `,children:S+1}),st.jsx("span",{className:"font-medium truncate max-w-[120px]",children:T.username})]}),st.jsxs("span",{className:"font-mono text-gray-600",children:[Math.floor(T.timeSeconds/6e4),":",String(Math.floor(T.timeSeconds%6e4/1e3)).padStart(2,"0"),":",String(Math.floor(T.timeSeconds%1e3/10)).padStart(2,"0")]})]},T.id))})]})}const LE=["#E69F00","#56B4E9","#009E73","#F0E442","#0072B2","#D55E00","#CC79A7","#999999","#F5C710","#FFFFFF"];function YD(){const[r,t]=Pt.useState(8),[n,s]=Pt.useState(null),[l,u]=Pt.useState([]),[f,p]=Pt.useState(!0),[g,y]=Pt.useState(!1),[T,S]=Pt.useState(null),[M,G]=Pt.useState(0),[J,et]=Pt.useState(!1),[W,ft]=Pt.useState(0),[Et,dt]=Pt.useState(!1),[Mt,qt]=Pt.useState(""),[wt,N]=Pt.useState("");Pt.useEffect(()=>{const ot=LT(Pl,U=>S(U));return()=>ot()},[]),Pt.useEffect(()=>{A(r)},[r]);const A=(ot=r)=>{p(!0),N(""),y(!1),G(0),et(!1),setTimeout(()=>{try{const U=fS(ot);s(U);const X=U.regions.map((H,mt)=>H.map((At,I)=>({row:mt,col:I,regionId:At,state:"EMPTY",isError:!1})));u(X)}catch(U){console.error(U),N(U.message||"Failed to generate level")}finally{p(!1)}},100)};Pt.useEffect(()=>{l.length>0&&!g&&R(l)},[l]);const w=(ot,U)=>{g||(J||et(!0),u(X=>{const H=X.map(At=>At.map(I=>({...I}))),mt=H[ot][U];return mt.state==="QUEEN"?mt.state="EMPTY":mt.state="QUEEN",D(H),H}))},V=(ot,U,X)=>{ot.preventDefault(),!g&&(J||et(!0),u(H=>{const mt=H.map(I=>I.map(F=>({...F}))),At=mt[U][X];return At.state==="CROSS"?At.state="EMPTY":At.state="CROSS",D(mt),mt}))},D=ot=>{const U=ot.length;for(let X=0;X<U;X++)for(let H=0;H<U;H++)ot[X][H].isError=!1;for(let X=0;X<U;X++)for(let H=0;H<U;H++)ot[X][H].state==="QUEEN"&&(yS(ot,X,H,U)||x(ot,X,H,U))},x=(ot,U,X,H)=>{ot[U][X].isError=!0;for(let I=0;I<H;I++)I!==X&&ot[U][I].state==="QUEEN"&&(ot[U][I].isError=!0);for(let I=0;I<H;I++)I!==U&&ot[I][X].state==="QUEEN"&&(ot[I][X].isError=!0);const mt=ot[U][X].regionId;for(let I=0;I<H;I++)for(let F=0;F<H;F++)(I!==U||F!==X)&&ot[I][F].regionId===mt&&ot[I][F].state==="QUEEN"&&(ot[I][F].isError=!0);const At=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[I,F]of At){const tt=U+I,nt=X+F;tt>=0&&tt<H&&nt>=0&&nt<H&&ot[tt][nt].state==="QUEEN"&&(ot[tt][nt].isError=!0)}},R=ot=>{const U=ot.length;let X=0,H=!1;for(let mt=0;mt<U;mt++)for(let At=0;At<U;At++)ot[mt][At].state==="QUEEN"&&X++,ot[mt][At].isError&&(H=!0);X===U&&!H&&Xt()},Xt=async()=>{if(y(!0),et(!1),T){dt(!0),qt("");try{await jD(mb(wb,"scores"),{username:T.displayName||T.email?.split("@")[0]||"Anonymous",timeSeconds:M,gridSize:r,userId:T.uid,createdAt:HD()}),ft(ot=>ot+1)}catch(ot){console.error("Error saving score:",ot),qt(ot.message||"Error saving score")}finally{dt(!1)}}};return wt?st.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[st.jsx("div",{className:"text-red-500 text-xl",children:wt}),st.jsx("button",{onClick:()=>A(r),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):st.jsxs("div",{className:"flex flex-col lg:flex-row items-start justify-center gap-8 p-4",children:[st.jsxs("div",{className:"flex flex-col items-center gap-6",children:[st.jsxs("div",{className:"flex items-center justify-between w-full max-w-md",children:[st.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Queens"}),st.jsx(_1,{isRunning:J,onTimeUpdate:G}),st.jsxs("div",{className:"flex gap-2",children:[st.jsxs("select",{value:r,onChange:ot=>t(Number(ot.target.value)),className:"px-2 py-2 border rounded-lg bg-white text-gray-700 text-sm",children:[st.jsx("option",{value:7,children:"7x7"}),st.jsx("option",{value:8,children:"8x8"}),st.jsx("option",{value:9,children:"9x9"})]}),st.jsx("button",{onClick:()=>A(r),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"New Game"})]})]}),st.jsx("div",{className:"grid gap-0 border-2 border-gray-800 relative",style:{gridTemplateColumns:`repeat(${n?.size||r}, minmax(0, 1fr))`,gridTemplateRows:`repeat(${n?.size||r}, minmax(0, 1fr))`,width:"min(90vw, 500px)",height:"min(90vw, 500px)"},children:f||!n?st.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 z-10",children:st.jsx("div",{className:"text-xl font-bold text-gray-600",children:"Generating Level..."})}):l.map((ot,U)=>ot.map((X,H)=>st.jsx(y1,{cell:X,color:LE[X.regionId%LE.length],onClick:()=>w(U,H),onRightClick:mt=>V(mt,U,H)},`${U}-${H}`)))}),st.jsxs("div",{className:"text-sm text-gray-500 max-w-md text-center",children:["Place ",n?.size||r," queens. One per row, column, and color. Queens cannot touch.",st.jsx("br",{}),st.jsx("span",{className:"text-xs",children:"(Left click to place Queen, Right click to place X)"})]})]}),st.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-sm",children:[st.jsx(FD,{user:T}),st.jsx(QD,{gridSize:r,refreshTrigger:W})]}),g&&st.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-50",children:st.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl text-center animate-in fade-in zoom-in duration-300",children:[st.jsx("h2",{className:"text-4xl font-bold text-green-600 mb-4",children:"You Won!"}),st.jsx("p",{className:"text-gray-600 mb-2",children:"Great job solving the puzzle."}),st.jsxs("p",{className:"text-xl font-mono font-bold mb-6",children:["Time: ",Math.floor(M/6e4),":",String(Math.floor(M%6e4/1e3)).padStart(2,"0"),":",String(Math.floor(M%1e3/10)).padStart(2,"0")]}),T?st.jsxs("div",{className:"mb-4",children:[Et&&st.jsx("p",{className:"text-blue-600",children:"Saving score..."}),Mt&&st.jsxs("p",{className:"text-red-500",children:["Error: ",Mt]}),!Et&&!Mt&&st.jsx("p",{className:"text-green-600 font-bold",children:"Score Saved!"})]}):st.jsx("p",{className:"text-sm text-amber-600 mb-4",children:"Log in to save your score!"}),st.jsx("button",{onClick:()=>A(r),className:"px-6 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 transition-colors",children:"Play Again"})]})})]})}function KD(){return st.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:st.jsx(YD,{})})}hS.createRoot(document.getElementById("root")).render(st.jsx(Pt.StrictMode,{children:st.jsx(KD,{})}));
